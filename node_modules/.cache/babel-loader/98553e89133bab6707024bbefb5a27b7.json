{"remainingRequest":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js!/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/file/QFile.js","dependencies":[{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/file/QFile.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3pob3V6aWxvbmcvRGVza3RvcC8yMDIwLTA5LTE5LTAwMDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBRRmllbGQgZnJvbSAnLi4vZmllbGQvUUZpZWxkLmpzJzsKaW1wb3J0IFFDaGlwIGZyb20gJy4uL2NoaXAvUUNoaXAuanMnOwppbXBvcnQgeyBGb3JtRmllbGRNaXhpbiB9IGZyb20gJy4uLy4uL21peGlucy9mb3JtLmpzJzsKaW1wb3J0IEZpbGVNaXhpbiwgeyBGaWxlVmFsdWVNaXhpbiB9IGZyb20gJy4uLy4uL21peGlucy9maWxlLmpzJzsKaW1wb3J0IHsgaXNTU1IgfSBmcm9tICcuLi8uLi9wbHVnaW5zL1BsYXRmb3JtJzsKaW1wb3J0IHsgaHVtYW5TdG9yYWdlU2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2Zvcm1hdC5qcyc7CmltcG9ydCBjYWNoZSBmcm9tICcuLi8uLi91dGlscy9jYWNoZS5qcyc7CmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdRRmlsZScsCiAgbWl4aW5zOiBbUUZpZWxkLCBGaWxlTWl4aW4sIEZvcm1GaWVsZE1peGluLCBGaWxlVmFsdWVNaXhpbl0sCiAgcHJvcHM6IHsKICAgIC8qIFNTUiBkb2VzIG5vdCBrbm93IGFib3V0IEZpbGUgJiBGaWxlTGlzdCAqLwogICAgdmFsdWU6IGlzU1NSID09PSB0cnVlID8ge30gOiBbRmlsZSwgRmlsZUxpc3QsIEFycmF5XSwKICAgIGFwcGVuZDogQm9vbGVhbiwKICAgIHVzZUNoaXBzOiBCb29sZWFuLAogICAgZGlzcGxheVZhbHVlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgdGFiaW5kZXg6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGNvdW50ZXJMYWJlbDogRnVuY3Rpb24sCiAgICBpbnB1dENsYXNzOiBbQXJyYXksIFN0cmluZywgT2JqZWN0XSwKICAgIGlucHV0U3R5bGU6IFtBcnJheSwgU3RyaW5nLCBPYmplY3RdCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZG5kOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbm5lclZhbHVlOiBmdW5jdGlvbiBpbm5lclZhbHVlKCkgewogICAgICByZXR1cm4gT2JqZWN0KHRoaXMudmFsdWUpID09PSB0aGlzLnZhbHVlID8gJ2xlbmd0aCcgaW4gdGhpcy52YWx1ZSA/IEFycmF5LmZyb20odGhpcy52YWx1ZSkgOiBbdGhpcy52YWx1ZV0gOiBbXTsKICAgIH0sCiAgICBzZWxlY3RlZFN0cmluZzogZnVuY3Rpb24gc2VsZWN0ZWRTdHJpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLmlubmVyVmFsdWUubWFwKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgcmV0dXJuIGZpbGUubmFtZTsKICAgICAgfSkuam9pbignLCAnKTsKICAgIH0sCiAgICB0b3RhbFNpemU6IGZ1bmN0aW9uIHRvdGFsU2l6ZSgpIHsKICAgICAgcmV0dXJuIGh1bWFuU3RvcmFnZVNpemUodGhpcy5pbm5lclZhbHVlLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmaWxlKSB7CiAgICAgICAgcmV0dXJuIGFjYyArIGZpbGUuc2l6ZTsKICAgICAgfSwgMCkpOwogICAgfSwKICAgIGNvdW50ZXJQcm9wczogZnVuY3Rpb24gY291bnRlclByb3BzKCkgewogICAgICByZXR1cm4gewogICAgICAgIHRvdGFsU2l6ZTogdGhpcy50b3RhbFNpemUsCiAgICAgICAgZmlsZXNOdW1iZXI6IHRoaXMuaW5uZXJWYWx1ZS5sZW5ndGgsCiAgICAgICAgbWF4RmlsZXM6IHRoaXMubWF4RmlsZXMKICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZENvdW50ZXI6IGZ1bmN0aW9uIGNvbXB1dGVkQ291bnRlcigpIHsKICAgICAgaWYgKHRoaXMuY291bnRlckxhYmVsICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gdGhpcy5jb3VudGVyTGFiZWwodGhpcy5jb3VudGVyUHJvcHMpOwogICAgICB9CgogICAgICB2YXIgbWF4ID0gdGhpcy5tYXhGaWxlczsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmlubmVyVmFsdWUubGVuZ3RoKS5jb25jYXQobWF4ICE9PSB2b2lkIDAgPyAnIC8gJyArIG1heCA6ICcnLCAiICgiKS5jb25jYXQodGhpcy50b3RhbFNpemUsICIpIik7CiAgICB9LAogICAgaW5wdXRBdHRyczogZnVuY3Rpb24gaW5wdXRBdHRycygpIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgdGFiaW5kZXg6IC0xLAogICAgICAgIHR5cGU6ICdmaWxlJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgLy8gdHJ5IHRvIHJlbW92ZSBkZWZhdWx0IHRvb2x0aXAsCiAgICAgICAgYWNjZXB0OiB0aGlzLmFjY2VwdCwKICAgICAgICBjYXB0dXJlOiB0aGlzLmNhcHR1cmUsCiAgICAgICAgbmFtZTogdGhpcy5uYW1lUHJvcAogICAgICB9LCB0aGlzLnFBdHRycyksIHt9LCB7CiAgICAgICAgaWQ6IHRoaXMudGFyZ2V0VWlkLAogICAgICAgIGRpc2FibGVkOiB0aGlzLmVkaXRhYmxlICE9PSB0cnVlCiAgICAgIH0pOwogICAgfSwKICAgIGlzQXBwZW5kaW5nOiBmdW5jdGlvbiBpc0FwcGVuZGluZygpIHsKICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbGUgPT09IHRydWUgJiYgdGhpcy5hcHBlbmQgPT09IHRydWU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW1vdmVBdEluZGV4OiBmdW5jdGlvbiByZW1vdmVBdEluZGV4KGluZGV4KSB7CiAgICAgIHZhciBmaWxlcyA9IHRoaXMuaW5uZXJWYWx1ZS5zbGljZSgpOwogICAgICBmaWxlcy5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgdGhpcy5fX2VtaXRWYWx1ZShmaWxlcyk7CiAgICB9LAogICAgcmVtb3ZlRmlsZTogZnVuY3Rpb24gcmVtb3ZlRmlsZShmaWxlKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5uZXJWYWx1ZS5maW5kSW5kZXgoZmlsZSk7CgogICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgIHRoaXMucmVtb3ZlQXRJbmRleChpbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICBfX2VtaXRWYWx1ZTogZnVuY3Rpb24gX19lbWl0VmFsdWUoZmlsZXMpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLm11bHRpcGxlID09PSB0cnVlID8gZmlsZXMgOiBmaWxlc1swXSk7CiAgICB9LAogICAgX19vbktleXVwOiBmdW5jdGlvbiBfX29uS2V5dXAoZSkgewogICAgICAvLyBvbmx5IG9uIEVOVEVSCiAgICAgIGUua2V5Q29kZSA9PT0gMTMgJiYgdGhpcy5waWNrRmlsZXMoZSk7CiAgICB9LAogICAgX19nZXRGaWxlSW5wdXQ6IGZ1bmN0aW9uIF9fZ2V0RmlsZUlucHV0KCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5pbnB1dDsKICAgIH0sCiAgICBfX2FkZEZpbGVzOiBmdW5jdGlvbiBfX2FkZEZpbGVzKGUsIGZpbGVMaXN0KSB7CiAgICAgIHZhciBmaWxlcyA9IHRoaXMuX19wcm9jZXNzRmlsZXMoZSwgZmlsZUxpc3QsIHRoaXMuaW5uZXJWYWx1ZSwgdGhpcy5pc0FwcGVuZGluZyk7CgogICAgICBmaWxlcyAhPT0gdm9pZCAwICYmIHRoaXMuX19lbWl0VmFsdWUodGhpcy5pc0FwcGVuZGluZyA9PT0gdHJ1ZSA/IHRoaXMuaW5uZXJWYWx1ZS5jb25jYXQoZmlsZXMpIDogZmlsZXMpOwogICAgfSwKICAgIF9fZ2V0Q29udHJvbDogZnVuY3Rpb24gX19nZXRDb250cm9sKGgpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgcmVmOiAndGFyZ2V0JywKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZmllbGRfX25hdGl2ZSByb3cgaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyJywKICAgICAgICBhdHRyczogewogICAgICAgICAgdGFiaW5kZXg6IHRoaXMudGFiaW5kZXgKICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAodGhpcy5lZGl0YWJsZSA9PT0gdHJ1ZSkgewogICAgICAgIGRhdGEub24gPSBjYWNoZSh0aGlzLCAnbmF0aXZlJywgewogICAgICAgICAgZHJhZ292ZXI6IHRoaXMuX19vbkRyYWdPdmVyLAogICAgICAgICAga2V5dXA6IHRoaXMuX19vbktleXVwCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBoKCdkaXYnLCBkYXRhLCBbdGhpcy5fX2dldElucHV0KGgpXS5jb25jYXQodGhpcy5fX2dldFNlbGVjdGlvbihoKSkpOwogICAgfSwKICAgIF9fZ2V0Q29udHJvbENoaWxkOiBmdW5jdGlvbiBfX2dldENvbnRyb2xDaGlsZChoKSB7CiAgICAgIHJldHVybiB0aGlzLl9fZ2V0RG5kKGgsICdmaWxlJyk7CiAgICB9LAogICAgX19nZXRTZWxlY3Rpb246IGZ1bmN0aW9uIF9fZ2V0U2VsZWN0aW9uKGgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90cy5maWxlICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gdGhpcy5pbm5lclZhbHVlLm1hcChmdW5jdGlvbiAoZmlsZSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy4kc2NvcGVkU2xvdHMuZmlsZSh7CiAgICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICAgICAgcmVmOiBfdGhpcwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90cy5zZWxlY3RlZCAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLnNlbGVjdGVkKHsKICAgICAgICAgIGZpbGVzOiB0aGlzLmlubmVyVmFsdWUsCiAgICAgICAgICByZWY6IHRoaXMKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudXNlQ2hpcHMgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbm5lclZhbHVlLm1hcChmdW5jdGlvbiAoZmlsZSwgaSkgewogICAgICAgICAgcmV0dXJuIGgoUUNoaXAsIHsKICAgICAgICAgICAga2V5OiAnZmlsZS0nICsgaSwKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICByZW1vdmFibGU6IF90aGlzLmVkaXRhYmxlLAogICAgICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgICAgIHRleHRDb2xvcjogX3RoaXMuY29sb3IsCiAgICAgICAgICAgICAgdGFiaW5kZXg6IF90aGlzLnRhYmluZGV4CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uOiBjYWNoZShfdGhpcywgJ3JlbSMnICsgaSwgewogICAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQXRJbmRleChpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9LCBbaCgnc3BhbicsIHsKICAgICAgICAgICAgc3RhdGljQ2xhc3M6ICdlbGxpcHNpcycsCiAgICAgICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAgICAgdGV4dENvbnRlbnQ6IGZpbGUubmFtZQogICAgICAgICAgICB9CiAgICAgICAgICB9KV0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gW2goJ2RpdicsIHsKICAgICAgICBzdHlsZTogdGhpcy5pbnB1dFN0eWxlLAogICAgICAgIGNsYXNzOiB0aGlzLmlucHV0Q2xhc3MsCiAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgIHRleHRDb250ZW50OiB0aGlzLmRpc3BsYXlWYWx1ZSAhPT0gdm9pZCAwID8gdGhpcy5kaXNwbGF5VmFsdWUgOiB0aGlzLnNlbGVjdGVkU3RyaW5nCiAgICAgICAgfQogICAgICB9KV07CiAgICB9LAogICAgX19nZXRJbnB1dDogZnVuY3Rpb24gX19nZXRJbnB1dChoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHJlZjogJ2lucHV0JywKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZmllbGRfX2lucHV0IGZpdCBhYnNvbHV0ZS1mdWxsIGN1cnNvci1wb2ludGVyJywKICAgICAgICBhdHRyczogdGhpcy5pbnB1dEF0dHJzLAogICAgICAgIGRvbVByb3BzOiB0aGlzLmZvcm1Eb21Qcm9wcywKICAgICAgICBvbjogY2FjaGUodGhpcywgJ2lucHV0JywgewogICAgICAgICAgY2hhbmdlOiB0aGlzLl9fYWRkRmlsZXMKICAgICAgICB9KQogICAgICB9OwoKICAgICAgaWYgKHRoaXMubXVsdGlwbGUgPT09IHRydWUpIHsKICAgICAgICBkYXRhLmF0dHJzLm11bHRpcGxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoJ2lucHV0JywgZGF0YSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5maWVsZENsYXNzID0gJ3EtZmlsZSBxLWZpZWxkLS1hdXRvLWhlaWdodCc7IC8vIG5lY2Vzc2FyeSBmb3IgUUZpZWxkJ3MgY2xlYXJhYmxlCiAgICAvLyBhbmQgRmlsZVZhbHVlTWl4aW4KCiAgICB0aGlzLnR5cGUgPSAnZmlsZSc7CiAgfQp9KTs="},{"version":3,"sources":["/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/file/QFile.js"],"names":["Vue","QField","QChip","FormFieldMixin","FileMixin","FileValueMixin","isSSR","humanStorageSize","cache","extend","name","mixins","props","value","File","FileList","Array","append","Boolean","useChips","displayValue","String","Number","tabindex","type","default","counterLabel","Function","inputClass","Object","inputStyle","data","dnd","computed","innerValue","from","selectedString","map","file","join","totalSize","reduce","acc","size","counterProps","filesNumber","length","maxFiles","computedCounter","max","inputAttrs","title","accept","capture","nameProp","qAttrs","id","targetUid","disabled","editable","isAppending","multiple","methods","removeAtIndex","index","files","slice","splice","__emitValue","removeFile","findIndex","$emit","__onKeyup","e","keyCode","pickFiles","__getFileInput","$refs","input","__addFiles","fileList","__processFiles","concat","__getControl","h","ref","staticClass","attrs","on","dragover","__onDragOver","keyup","__getInput","__getSelection","__getControlChild","__getDnd","$scopedSlots","selected","i","key","removable","dense","textColor","color","remove","domProps","textContent","style","class","formDomProps","change","created","fieldClass"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport QField from '../field/QField.js'\nimport QChip from '../chip/QChip.js'\n\nimport { FormFieldMixin } from '../../mixins/form.js'\nimport FileMixin, { FileValueMixin } from '../../mixins/file.js'\n\nimport { isSSR } from '../../plugins/Platform'\nimport { humanStorageSize } from '../../utils/format.js'\nimport cache from '../../utils/cache.js'\n\nexport default Vue.extend({\n  name: 'QFile',\n\n  mixins: [ QField, FileMixin, FormFieldMixin, FileValueMixin ],\n\n  props: {\n    /* SSR does not know about File & FileList */\n    value: isSSR === true\n      ? {}\n      : [ File, FileList, Array ],\n\n    append: Boolean,\n    useChips: Boolean,\n    displayValue: [ String, Number ],\n\n    tabindex: {\n      type: [ String, Number ],\n      default: 0\n    },\n\n    counterLabel: Function,\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ]\n  },\n\n  data () {\n    return {\n      dnd: false\n    }\n  },\n\n  computed: {\n    innerValue () {\n      return Object(this.value) === this.value\n        ? ('length' in this.value ? Array.from(this.value) : [ this.value ])\n        : []\n    },\n\n    selectedString () {\n      return this.innerValue\n        .map(file => file.name)\n        .join(', ')\n    },\n\n    totalSize () {\n      return humanStorageSize(\n        this.innerValue.reduce((acc, file) => acc + file.size, 0)\n      )\n    },\n\n    counterProps () {\n      return {\n        totalSize: this.totalSize,\n        filesNumber: this.innerValue.length,\n        maxFiles: this.maxFiles\n      }\n    },\n\n    computedCounter () {\n      if (this.counterLabel !== void 0) {\n        return this.counterLabel(this.counterProps)\n      }\n\n      const max = this.maxFiles\n      return `${this.innerValue.length}${max !== void 0 ? ' / ' + max : ''} (${this.totalSize})`\n    },\n\n    inputAttrs () {\n      return {\n        tabindex: -1,\n        type: 'file',\n        title: '', // try to remove default tooltip,\n        accept: this.accept,\n        capture: this.capture,\n        name: this.nameProp,\n        ...this.qAttrs,\n        id: this.targetUid,\n        disabled: this.editable !== true\n      }\n    },\n\n    isAppending () {\n      return this.multiple === true && this.append === true\n    }\n  },\n\n  methods: {\n    removeAtIndex (index) {\n      const files = this.innerValue.slice()\n      files.splice(index, 1)\n      this.__emitValue(files)\n    },\n\n    removeFile (file) {\n      const index = this.innerValue.findIndex(file)\n      if (index > -1) {\n        this.removeAtIndex(index)\n      }\n    },\n\n    __emitValue (files) {\n      this.$emit('input', this.multiple === true ? files : files[0])\n    },\n\n    __onKeyup (e) {\n      // only on ENTER\n      e.keyCode === 13 && this.pickFiles(e)\n    },\n\n    __getFileInput () {\n      return this.$refs.input\n    },\n\n    __addFiles (e, fileList) {\n      const files = this.__processFiles(e, fileList, this.innerValue, this.isAppending)\n\n      files !== void 0 && this.__emitValue(\n        this.isAppending === true\n          ? this.innerValue.concat(files)\n          : files\n      )\n    },\n\n    __getControl (h) {\n      const data = {\n        ref: 'target',\n        staticClass: 'q-field__native row items-center cursor-pointer',\n        attrs: {\n          tabindex: this.tabindex\n        }\n      }\n\n      if (this.editable === true) {\n        data.on = cache(this, 'native', {\n          dragover: this.__onDragOver,\n          keyup: this.__onKeyup\n        })\n      }\n\n      return h('div', data, [ this.__getInput(h) ].concat(this.__getSelection(h)))\n    },\n\n    __getControlChild (h) {\n      return this.__getDnd(h, 'file')\n    },\n\n    __getSelection (h) {\n      if (this.$scopedSlots.file !== void 0) {\n        return this.innerValue.map((file, index) => this.$scopedSlots.file({ index, file, ref: this }))\n      }\n\n      if (this.$scopedSlots.selected !== void 0) {\n        return this.$scopedSlots.selected({ files: this.innerValue, ref: this })\n      }\n\n      if (this.useChips === true) {\n        return this.innerValue.map((file, i) => h(QChip, {\n          key: 'file-' + i,\n          props: {\n            removable: this.editable,\n            dense: true,\n            textColor: this.color,\n            tabindex: this.tabindex\n          },\n          on: cache(this, 'rem#' + i, {\n            remove: () => { this.removeAtIndex(i) }\n          })\n        }, [\n          h('span', {\n            staticClass: 'ellipsis',\n            domProps: {\n              textContent: file.name\n            }\n          })\n        ]))\n      }\n\n      return [\n        h('div', {\n          style: this.inputStyle,\n          class: this.inputClass,\n          domProps: {\n            textContent: this.displayValue !== void 0\n              ? this.displayValue\n              : this.selectedString\n          }\n        })\n      ]\n    },\n\n    __getInput (h) {\n      const data = {\n        ref: 'input',\n        staticClass: 'q-field__input fit absolute-full cursor-pointer',\n        attrs: this.inputAttrs,\n        domProps: this.formDomProps,\n        on: cache(this, 'input', {\n          change: this.__addFiles\n        })\n      }\n\n      if (this.multiple === true) {\n        data.attrs.multiple = true\n      }\n\n      return h('input', data)\n    }\n  },\n\n  created () {\n    this.fieldClass = 'q-file q-field--auto-height'\n\n    // necessary for QField's clearable\n    // and FileValueMixin\n    this.type = 'file'\n  }\n})\n"]}]}