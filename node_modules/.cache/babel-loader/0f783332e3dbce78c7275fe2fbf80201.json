{"remainingRequest":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js!/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/tree/QTree.js","dependencies":[{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/tree/QTree.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluayI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBRSWNvbiBmcm9tICcuLi9pY29uL1FJY29uLmpzJzsKaW1wb3J0IFFDaGVja2JveCBmcm9tICcuLi9jaGVja2JveC9RQ2hlY2tib3guanMnOwppbXBvcnQgUVNsaWRlVHJhbnNpdGlvbiBmcm9tICcuLi9zbGlkZS10cmFuc2l0aW9uL1FTbGlkZVRyYW5zaXRpb24uanMnOwppbXBvcnQgUVNwaW5uZXIgZnJvbSAnLi4vc3Bpbm5lci9RU3Bpbm5lci5qcyc7CmltcG9ydCBEYXJrTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL2RhcmsuanMnOwppbXBvcnQgeyBzdG9wQW5kUHJldmVudCB9IGZyb20gJy4uLy4uL3V0aWxzL2V2ZW50LmpzJzsKaW1wb3J0IHsgc2hvdWxkSWdub3JlS2V5IH0gZnJvbSAnLi4vLi4vdXRpbHMva2V5LWNvbXBvc2l0aW9uLmpzJzsKaW1wb3J0IGNhY2hlIGZyb20gJy4uLy4uL3V0aWxzL2NhY2hlLmpzJzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1FUcmVlJywKICBtaXhpbnM6IFtEYXJrTWl4aW5dLAogIHByb3BzOiB7CiAgICBub2RlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBub2RlS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBsYWJlbEtleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdsYWJlbCcKICAgIH0sCiAgICBjaGlsZHJlbktleTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjaGlsZHJlbicKICAgIH0sCiAgICBjb2xvcjogU3RyaW5nLAogICAgY29udHJvbENvbG9yOiBTdHJpbmcsCiAgICB0ZXh0Q29sb3I6IFN0cmluZywKICAgIHNlbGVjdGVkQ29sb3I6IFN0cmluZywKICAgIGljb246IFN0cmluZywKICAgIHRpY2tTdHJhdGVneTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdub25lJywKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodikgewogICAgICAgIHJldHVybiBbJ25vbmUnLCAnc3RyaWN0JywgJ2xlYWYnLCAnbGVhZi1maWx0ZXJlZCddLmluY2x1ZGVzKHYpOwogICAgICB9CiAgICB9LAogICAgdGlja2VkOiBBcnJheSwKICAgIC8vIHN5bmMKICAgIGV4cGFuZGVkOiBBcnJheSwKICAgIC8vIHN5bmMKICAgIHNlbGVjdGVkOiB7fSwKICAgIC8vIHN5bmMKICAgIGRlZmF1bHRFeHBhbmRBbGw6IEJvb2xlYW4sCiAgICBhY2NvcmRpb246IEJvb2xlYW4sCiAgICBmaWx0ZXI6IFN0cmluZywKICAgIGZpbHRlck1ldGhvZDogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQobm9kZSwgZmlsdGVyKSB7CiAgICAgICAgdmFyIGZpbHQgPSBmaWx0ZXIudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXR1cm4gbm9kZVt0aGlzLmxhYmVsS2V5XSAmJiBub2RlW3RoaXMubGFiZWxLZXldLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0KSA+IC0xOwogICAgICB9CiAgICB9LAogICAgZHVyYXRpb246IE51bWJlciwKICAgIG5vQ29ubmVjdG9yczogQm9vbGVhbiwKICAgIG5vTm9kZXNMYWJlbDogU3RyaW5nLAogICAgbm9SZXN1bHRzTGFiZWw6IFN0cmluZwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7CiAgICAgIHJldHVybiAicS10cmVlIiArICh0aGlzLm5vQ29ubmVjdG9ycyA9PT0gdHJ1ZSA/ICIgcS10cmVlLS1uby1jb25uZWN0b3JzIiA6ICcnKSArICh0aGlzLmlzRGFyayA9PT0gdHJ1ZSA/ICIgcS10cmVlLS1kYXJrIiA6ICcnKSArICh0aGlzLmNvbG9yICE9PSB2b2lkIDAgPyAiIHRleHQtIi5jb25jYXQodGhpcy5jb2xvcikgOiAnJyk7CiAgICB9LAogICAgaGFzU2VsZWN0aW9uOiBmdW5jdGlvbiBoYXNTZWxlY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkICE9PSB2b2lkIDA7CiAgICB9LAogICAgY29tcHV0ZWRJY29uOiBmdW5jdGlvbiBjb21wdXRlZEljb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmljb24gfHwgdGhpcy4kcS5pY29uU2V0LnRyZWUuaWNvbjsKICAgIH0sCiAgICBjb21wdXRlZENvbnRyb2xDb2xvcjogZnVuY3Rpb24gY29tcHV0ZWRDb250cm9sQ29sb3IoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xDb2xvciB8fCB0aGlzLmNvbG9yOwogICAgfSwKICAgIHRleHRDb2xvckNsYXNzOiBmdW5jdGlvbiB0ZXh0Q29sb3JDbGFzcygpIHsKICAgICAgaWYgKHRoaXMudGV4dENvbG9yICE9PSB2b2lkIDApIHsKICAgICAgICByZXR1cm4gInRleHQtIi5jb25jYXQodGhpcy50ZXh0Q29sb3IpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWRDb2xvckNsYXNzOiBmdW5jdGlvbiBzZWxlY3RlZENvbG9yQ2xhc3MoKSB7CiAgICAgIHZhciBjb2xvciA9IHRoaXMuc2VsZWN0ZWRDb2xvciB8fCB0aGlzLmNvbG9yOwoKICAgICAgaWYgKGNvbG9yKSB7CiAgICAgICAgcmV0dXJuICJ0ZXh0LSIuY29uY2F0KGNvbG9yKTsKICAgICAgfQogICAgfSwKICAgIG1ldGE6IGZ1bmN0aW9uIG1ldGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbWV0YSA9IHt9OwoKICAgICAgdmFyIHRyYXZlbCA9IGZ1bmN0aW9uIHRyYXZlbChub2RlLCBwYXJlbnQpIHsKICAgICAgICB2YXIgdGlja1N0cmF0ZWd5ID0gbm9kZS50aWNrU3RyYXRlZ3kgfHwgKHBhcmVudCA/IHBhcmVudC50aWNrU3RyYXRlZ3kgOiBfdGhpcy50aWNrU3RyYXRlZ3kpOwogICAgICAgIHZhciBrZXkgPSBub2RlW190aGlzLm5vZGVLZXldLAogICAgICAgICAgICBpc1BhcmVudCA9IG5vZGVbX3RoaXMuY2hpbGRyZW5LZXldICYmIG5vZGVbX3RoaXMuY2hpbGRyZW5LZXldLmxlbmd0aCA+IDAsCiAgICAgICAgICAgIGlzTGVhZiA9IGlzUGFyZW50ICE9PSB0cnVlLAogICAgICAgICAgICBzZWxlY3RhYmxlID0gbm9kZS5kaXNhYmxlZCAhPT0gdHJ1ZSAmJiBfdGhpcy5oYXNTZWxlY3Rpb24gPT09IHRydWUgJiYgbm9kZS5zZWxlY3RhYmxlICE9PSBmYWxzZSwKICAgICAgICAgICAgZXhwYW5kYWJsZSA9IG5vZGUuZGlzYWJsZWQgIT09IHRydWUgJiYgbm9kZS5leHBhbmRhYmxlICE9PSBmYWxzZSwKICAgICAgICAgICAgaGFzVGlja2luZyA9IHRpY2tTdHJhdGVneSAhPT0gJ25vbmUnLAogICAgICAgICAgICBzdHJpY3RUaWNraW5nID0gdGlja1N0cmF0ZWd5ID09PSAnc3RyaWN0JywKICAgICAgICAgICAgbGVhZkZpbHRlcmVkVGlja2luZyA9IHRpY2tTdHJhdGVneSA9PT0gJ2xlYWYtZmlsdGVyZWQnLAogICAgICAgICAgICBsZWFmVGlja2luZyA9IHRpY2tTdHJhdGVneSA9PT0gJ2xlYWYnIHx8IHRpY2tTdHJhdGVneSA9PT0gJ2xlYWYtZmlsdGVyZWQnOwogICAgICAgIHZhciB0aWNrYWJsZSA9IG5vZGUuZGlzYWJsZWQgIT09IHRydWUgJiYgbm9kZS50aWNrYWJsZSAhPT0gZmFsc2U7CgogICAgICAgIGlmIChsZWFmVGlja2luZyA9PT0gdHJ1ZSAmJiB0aWNrYWJsZSA9PT0gdHJ1ZSAmJiBwYXJlbnQgJiYgcGFyZW50LnRpY2thYmxlICE9PSB0cnVlKSB7CiAgICAgICAgICB0aWNrYWJsZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdmFyIGxhenkgPSBub2RlLmxhenk7CgogICAgICAgIGlmIChsYXp5ICYmIF90aGlzLmxhenlba2V5XSkgewogICAgICAgICAgbGF6eSA9IF90aGlzLmxhenlba2V5XTsKICAgICAgICB9CgogICAgICAgIHZhciBtID0gewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICBwYXJlbnQ6IHBhcmVudCwKICAgICAgICAgIGlzUGFyZW50OiBpc1BhcmVudCwKICAgICAgICAgIGlzTGVhZjogaXNMZWFmLAogICAgICAgICAgbGF6eTogbGF6eSwKICAgICAgICAgIGRpc2FibGVkOiBub2RlLmRpc2FibGVkLAogICAgICAgICAgbGluazogbm9kZS5kaXNhYmxlZCAhPT0gdHJ1ZSAmJiAoc2VsZWN0YWJsZSA9PT0gdHJ1ZSB8fCBleHBhbmRhYmxlID09PSB0cnVlICYmIChpc1BhcmVudCA9PT0gdHJ1ZSB8fCBsYXp5ID09PSB0cnVlKSksCiAgICAgICAgICBjaGlsZHJlbjogW10sCiAgICAgICAgICBtYXRjaGVzRmlsdGVyOiBfdGhpcy5maWx0ZXIgPyBfdGhpcy5maWx0ZXJNZXRob2Qobm9kZSwgX3RoaXMuZmlsdGVyKSA6IHRydWUsCiAgICAgICAgICBzZWxlY3RlZDoga2V5ID09PSBfdGhpcy5zZWxlY3RlZCAmJiBzZWxlY3RhYmxlID09PSB0cnVlLAogICAgICAgICAgc2VsZWN0YWJsZTogc2VsZWN0YWJsZSwKICAgICAgICAgIGV4cGFuZGVkOiBpc1BhcmVudCA9PT0gdHJ1ZSA/IF90aGlzLmlubmVyRXhwYW5kZWQuaW5jbHVkZXMoa2V5KSA6IGZhbHNlLAogICAgICAgICAgZXhwYW5kYWJsZTogZXhwYW5kYWJsZSwKICAgICAgICAgIG5vVGljazogbm9kZS5ub1RpY2sgPT09IHRydWUgfHwgc3RyaWN0VGlja2luZyAhPT0gdHJ1ZSAmJiBsYXp5ICYmIGxhenkgIT09ICdsb2FkZWQnLAogICAgICAgICAgdGlja2FibGU6IHRpY2thYmxlLAogICAgICAgICAgdGlja1N0cmF0ZWd5OiB0aWNrU3RyYXRlZ3ksCiAgICAgICAgICBoYXNUaWNraW5nOiBoYXNUaWNraW5nLAogICAgICAgICAgc3RyaWN0VGlja2luZzogc3RyaWN0VGlja2luZywKICAgICAgICAgIGxlYWZGaWx0ZXJlZFRpY2tpbmc6IGxlYWZGaWx0ZXJlZFRpY2tpbmcsCiAgICAgICAgICBsZWFmVGlja2luZzogbGVhZlRpY2tpbmcsCiAgICAgICAgICB0aWNrZWQ6IHN0cmljdFRpY2tpbmcgPT09IHRydWUgPyBfdGhpcy5pbm5lclRpY2tlZC5pbmNsdWRlcyhrZXkpIDogaXNMZWFmID09PSB0cnVlID8gX3RoaXMuaW5uZXJUaWNrZWQuaW5jbHVkZXMoa2V5KSA6IGZhbHNlCiAgICAgICAgfTsKICAgICAgICBtZXRhW2tleV0gPSBtOwoKICAgICAgICBpZiAoaXNQYXJlbnQgPT09IHRydWUpIHsKICAgICAgICAgIG0uY2hpbGRyZW4gPSBub2RlW190aGlzLmNoaWxkcmVuS2V5XS5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgcmV0dXJuIHRyYXZlbChuLCBtKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChfdGhpcy5maWx0ZXIpIHsKICAgICAgICAgICAgaWYgKG0ubWF0Y2hlc0ZpbHRlciAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgIG0ubWF0Y2hlc0ZpbHRlciA9IG0uY2hpbGRyZW4uc29tZShmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgcmV0dXJuIG4ubWF0Y2hlc0ZpbHRlcjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChtLm5vVGljayAhPT0gdHJ1ZSAmJiBtLmRpc2FibGVkICE9PSB0cnVlICYmIG0udGlja2FibGUgPT09IHRydWUgJiYgbGVhZkZpbHRlcmVkVGlja2luZyA9PT0gdHJ1ZSAmJiBtLmNoaWxkcmVuLmV2ZXJ5KGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG4ubWF0Y2hlc0ZpbHRlciAhPT0gdHJ1ZSB8fCBuLm5vVGljayA9PT0gdHJ1ZSB8fCBuLnRpY2thYmxlICE9PSB0cnVlOwogICAgICAgICAgICB9KSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIG0udGlja2FibGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChtLm1hdGNoZXNGaWx0ZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgaWYgKG0ubm9UaWNrICE9PSB0cnVlICYmIHN0cmljdFRpY2tpbmcgIT09IHRydWUgJiYgbS5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbiAobikgewogICAgICAgICAgICAgIHJldHVybiBuLm5vVGljazsKICAgICAgICAgICAgfSkgPT09IHRydWUpIHsKICAgICAgICAgICAgICBtLm5vVGljayA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChsZWFmVGlja2luZykgewogICAgICAgICAgICAgIG0udGlja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgbS5pbmRldGVybWluYXRlID0gbS5jaGlsZHJlbi5zb21lKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5pbmRldGVybWluYXRlID09PSB0cnVlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIG0udGlja2FibGUgPSBtLnRpY2thYmxlID09PSB0cnVlICYmIG0uY2hpbGRyZW4uc29tZShmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUudGlja2FibGU7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChtLmluZGV0ZXJtaW5hdGUgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHZhciBzZWwgPSBtLmNoaWxkcmVuLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBtZXRhKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBtZXRhLnRpY2tlZCA9PT0gdHJ1ZSA/IGFjYyArIDEgOiBhY2M7CiAgICAgICAgICAgICAgICB9LCAwKTsKCiAgICAgICAgICAgICAgICBpZiAoc2VsID09PSBtLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBtLnRpY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbCA+IDApIHsKICAgICAgICAgICAgICAgICAgbS5pbmRldGVybWluYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChtLmluZGV0ZXJtaW5hdGUgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIG0uaW5kZXRlcm1pbmF0ZU5leHRTdGF0ZSA9IG0uY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24gKG1ldGEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ldGEudGlja2FibGUgIT09IHRydWUgfHwgbWV0YS50aWNrZWQgIT09IHRydWU7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBtOwogICAgICB9OwoKICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgcmV0dXJuIHRyYXZlbChub2RlLCBudWxsKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBtZXRhOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhenk6IHt9LAogICAgICBpbm5lclRpY2tlZDogdGhpcy50aWNrZWQgfHwgW10sCiAgICAgIGlubmVyRXhwYW5kZWQ6IHRoaXMuZXhwYW5kZWQgfHwgW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGlja2VkOiBmdW5jdGlvbiB0aWNrZWQodmFsKSB7CiAgICAgIHRoaXMuaW5uZXJUaWNrZWQgPSB2YWw7CiAgICB9LAogICAgZXhwYW5kZWQ6IGZ1bmN0aW9uIGV4cGFuZGVkKHZhbCkgewogICAgICB0aGlzLmlubmVyRXhwYW5kZWQgPSB2YWw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXROb2RlQnlLZXk6IGZ1bmN0aW9uIGdldE5vZGVCeUtleShrZXkpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcmVkdWNlID0gW10ucmVkdWNlOwoKICAgICAgdmFyIGZpbmQgPSBmdW5jdGlvbiBmaW5kKHJlc3VsdCwgbm9kZSkgewogICAgICAgIGlmIChyZXN1bHQgfHwgIW5vZGUpIHsKICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSA9PT0gdHJ1ZSkgewogICAgICAgICAgcmV0dXJuIHJlZHVjZS5jYWxsKE9iamVjdChub2RlKSwgZmluZCwgcmVzdWx0KTsKICAgICAgICB9CgogICAgICAgIGlmIChub2RlW190aGlzMi5ub2RlS2V5XSA9PT0ga2V5KSB7CiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICB9CgogICAgICAgIGlmIChub2RlW190aGlzMi5jaGlsZHJlbktleV0pIHsKICAgICAgICAgIHJldHVybiBmaW5kKG51bGwsIG5vZGVbX3RoaXMyLmNoaWxkcmVuS2V5XSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgcmV0dXJuIGZpbmQobnVsbCwgdGhpcy5ub2Rlcyk7CiAgICB9LAogICAgZ2V0VGlja2VkTm9kZXM6IGZ1bmN0aW9uIGdldFRpY2tlZE5vZGVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLmlubmVyVGlja2VkLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5nZXROb2RlQnlLZXkoa2V5KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RXhwYW5kZWROb2RlczogZnVuY3Rpb24gZ2V0RXhwYW5kZWROb2RlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5pbm5lckV4cGFuZGVkLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5nZXROb2RlQnlLZXkoa2V5KTsKICAgICAgfSk7CiAgICB9LAogICAgaXNFeHBhbmRlZDogZnVuY3Rpb24gaXNFeHBhbmRlZChrZXkpIHsKICAgICAgcmV0dXJuIGtleSAmJiB0aGlzLm1ldGFba2V5XSA/IHRoaXMubWV0YVtrZXldLmV4cGFuZGVkIDogZmFsc2U7CiAgICB9LAogICAgY29sbGFwc2VBbGw6IGZ1bmN0aW9uIGNvbGxhcHNlQWxsKCkgewogICAgICBpZiAodGhpcy5leHBhbmRlZCAhPT0gdm9pZCAwKSB7CiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmV4cGFuZGVkJywgW10pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW5uZXJFeHBhbmRlZCA9IFtdOwogICAgICB9CiAgICB9LAogICAgZXhwYW5kQWxsOiBmdW5jdGlvbiBleHBhbmRBbGwoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGV4cGFuZGVkID0gdGhpcy5pbm5lckV4cGFuZGVkLAogICAgICAgICAgdHJhdmVsID0gZnVuY3Rpb24gdHJhdmVsKG5vZGUpIHsKICAgICAgICBpZiAobm9kZVtfdGhpczUuY2hpbGRyZW5LZXldICYmIG5vZGVbX3RoaXM1LmNoaWxkcmVuS2V5XS5sZW5ndGggPiAwKSB7CiAgICAgICAgICBpZiAobm9kZS5leHBhbmRhYmxlICE9PSBmYWxzZSAmJiBub2RlLmRpc2FibGVkICE9PSB0cnVlKSB7CiAgICAgICAgICAgIGV4cGFuZGVkLnB1c2gobm9kZVtfdGhpczUubm9kZUtleV0pOwoKICAgICAgICAgICAgbm9kZVtfdGhpczUuY2hpbGRyZW5LZXldLmZvckVhY2godHJhdmVsKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLm5vZGVzLmZvckVhY2godHJhdmVsKTsKCiAgICAgIGlmICh0aGlzLmV4cGFuZGVkICE9PSB2b2lkIDApIHsKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6ZXhwYW5kZWQnLCBleHBhbmRlZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbm5lckV4cGFuZGVkID0gZXhwYW5kZWQ7CiAgICAgIH0KICAgIH0sCiAgICBzZXRFeHBhbmRlZDogZnVuY3Rpb24gc2V0RXhwYW5kZWQoa2V5LCBzdGF0ZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBub2RlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0aGlzLmdldE5vZGVCeUtleShrZXkpOwogICAgICB2YXIgbWV0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdGhpcy5tZXRhW2tleV07CgogICAgICBpZiAobWV0YS5sYXp5ICYmIG1ldGEubGF6eSAhPT0gJ2xvYWRlZCcpIHsKICAgICAgICBpZiAobWV0YS5sYXp5ID09PSAnbG9hZGluZycpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMuJHNldCh0aGlzLmxhenksIGtleSwgJ2xvYWRpbmcnKTsKICAgICAgICB0aGlzLiRlbWl0KCdsYXp5LWxvYWQnLCB7CiAgICAgICAgICBub2RlOiBub2RlLAogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICBkb25lOiBmdW5jdGlvbiBkb25lKGNoaWxkcmVuKSB7CiAgICAgICAgICAgIF90aGlzNi5sYXp5W2tleV0gPSAnbG9hZGVkJzsKCiAgICAgICAgICAgIGlmIChjaGlsZHJlbikgewogICAgICAgICAgICAgIF90aGlzNi4kc2V0KG5vZGUsIF90aGlzNi5jaGlsZHJlbktleSwgY2hpbGRyZW4pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczYuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgbSA9IF90aGlzNi5tZXRhW2tleV07CgogICAgICAgICAgICAgIGlmIChtICYmIG0uaXNQYXJlbnQgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzNi5fX3NldEV4cGFuZGVkKGtleSwgdHJ1ZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsOiBmdW5jdGlvbiBmYWlsKCkgewogICAgICAgICAgICBfdGhpczYuJGRlbGV0ZShfdGhpczYubGF6eSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChtZXRhLmlzUGFyZW50ID09PSB0cnVlICYmIG1ldGEuZXhwYW5kYWJsZSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuX19zZXRFeHBhbmRlZChrZXksIHN0YXRlKTsKICAgICAgfQogICAgfSwKICAgIF9fc2V0RXhwYW5kZWQ6IGZ1bmN0aW9uIF9fc2V0RXhwYW5kZWQoa2V5LCBzdGF0ZSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmlubmVyRXhwYW5kZWQ7CiAgICAgIHZhciBlbWl0ID0gdGhpcy5leHBhbmRlZCAhPT0gdm9pZCAwOwoKICAgICAgaWYgKGVtaXQgPT09IHRydWUpIHsKICAgICAgICB0YXJnZXQgPSB0YXJnZXQuc2xpY2UoKTsKICAgICAgfQoKICAgICAgaWYgKHN0YXRlKSB7CiAgICAgICAgaWYgKHRoaXMuYWNjb3JkaW9uKSB7CiAgICAgICAgICBpZiAodGhpcy5tZXRhW2tleV0pIHsKICAgICAgICAgICAgdmFyIGNvbGxhcHNlID0gW107CgogICAgICAgICAgICBpZiAodGhpcy5tZXRhW2tleV0ucGFyZW50KSB7CiAgICAgICAgICAgICAgdGhpcy5tZXRhW2tleV0ucGFyZW50LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICAgICAgICAgIGlmIChtLmtleSAhPT0ga2V5ICYmIG0uZXhwYW5kYWJsZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICBjb2xsYXBzZS5wdXNoKG0ua2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgICAgIHZhciBrID0gbm9kZVtfdGhpczcubm9kZUtleV07CgogICAgICAgICAgICAgICAgaWYgKGsgIT09IGtleSkgewogICAgICAgICAgICAgICAgICBjb2xsYXBzZS5wdXNoKGspOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY29sbGFwc2UubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5maWx0ZXIoZnVuY3Rpb24gKGspIHsKICAgICAgICAgICAgICAgIHJldHVybiBjb2xsYXBzZS5pbmNsdWRlcyhrKSA9PT0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRhcmdldCA9IHRhcmdldC5jb25jYXQoW2tleV0pLmZpbHRlcihmdW5jdGlvbiAoa2V5LCBpbmRleCwgc2VsZikgewogICAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihrZXkpID09PSBpbmRleDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0YXJnZXQgPSB0YXJnZXQuZmlsdGVyKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICByZXR1cm4gayAhPT0ga2V5OwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoZW1pdCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpleHBhbmRlZCIsIHRhcmdldCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbm5lckV4cGFuZGVkID0gdGFyZ2V0OwogICAgICB9CiAgICB9LAogICAgaXNUaWNrZWQ6IGZ1bmN0aW9uIGlzVGlja2VkKGtleSkgewogICAgICByZXR1cm4ga2V5ICYmIHRoaXMubWV0YVtrZXldID8gdGhpcy5tZXRhW2tleV0udGlja2VkIDogZmFsc2U7CiAgICB9LAogICAgc2V0VGlja2VkOiBmdW5jdGlvbiBzZXRUaWNrZWQoa2V5cywgc3RhdGUpIHsKICAgICAgdmFyIHRhcmdldCA9IHRoaXMuaW5uZXJUaWNrZWQ7CiAgICAgIHZhciBlbWl0ID0gdGhpcy50aWNrZWQgIT09IHZvaWQgMDsKCiAgICAgIGlmIChlbWl0ID09PSB0cnVlKSB7CiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnNsaWNlKCk7CiAgICAgIH0KCiAgICAgIGlmIChzdGF0ZSkgewogICAgICAgIHRhcmdldCA9IHRhcmdldC5jb25jYXQoa2V5cykuZmlsdGVyKGZ1bmN0aW9uIChrZXksIGluZGV4LCBzZWxmKSB7CiAgICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGtleSkgPT09IGluZGV4OwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRhcmdldCA9IHRhcmdldC5maWx0ZXIoZnVuY3Rpb24gKGspIHsKICAgICAgICAgIHJldHVybiBrZXlzLmluY2x1ZGVzKGspID09PSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKGVtaXQgPT09IHRydWUpIHsKICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6dGlja2VkIiwgdGFyZ2V0KTsKICAgICAgfQogICAgfSwKICAgIF9fZ2V0U2xvdFNjb3BlOiBmdW5jdGlvbiBfX2dldFNsb3RTY29wZShub2RlLCBtZXRhLCBrZXkpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgc2NvcGUgPSB7CiAgICAgICAgdHJlZTogdGhpcywKICAgICAgICBub2RlOiBub2RlLAogICAgICAgIGtleToga2V5LAogICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLAogICAgICAgIGRhcms6IHRoaXMuaXNEYXJrCiAgICAgIH07CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzY29wZSwgJ2V4cGFuZGVkJywgewogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIG1ldGEuZXhwYW5kZWQ7CiAgICAgICAgfSwKICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHsKICAgICAgICAgIHZhbCAhPT0gbWV0YS5leHBhbmRlZCAmJiBfdGhpczguc2V0RXhwYW5kZWQoa2V5LCB2YWwpOwogICAgICAgIH0sCiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IHRydWUKICAgICAgfSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzY29wZSwgJ3RpY2tlZCcsIHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHJldHVybiBtZXRhLnRpY2tlZDsKICAgICAgICB9LAogICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgICAgdmFsICE9PSBtZXRhLnRpY2tlZCAmJiBfdGhpczguc2V0VGlja2VkKFtrZXldLCB2YWwpOwogICAgICAgIH0sCiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IHRydWUKICAgICAgfSk7CiAgICAgIHJldHVybiBzY29wZTsKICAgIH0sCiAgICBfX2dldENoaWxkcmVuOiBmdW5jdGlvbiBfX2dldENoaWxkcmVuKGgsIG5vZGVzKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuICh0aGlzLmZpbHRlciA/IG5vZGVzLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgIHJldHVybiBfdGhpczkubWV0YVtuW190aGlzOS5ub2RlS2V5XV0ubWF0Y2hlc0ZpbHRlcjsKICAgICAgfSkgOiBub2RlcykubWFwKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgIHJldHVybiBfdGhpczkuX19nZXROb2RlKGgsIGNoaWxkKTsKICAgICAgfSk7CiAgICB9LAogICAgX19nZXROb2RlTWVkaWE6IGZ1bmN0aW9uIF9fZ2V0Tm9kZU1lZGlhKGgsIG5vZGUpIHsKICAgICAgaWYgKG5vZGUuaWNvbiAhPT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIGgoUUljb24sIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAicS10cmVlX19pY29uIHEtbXItc20iLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgbmFtZTogbm9kZS5pY29uLAogICAgICAgICAgICBjb2xvcjogbm9kZS5pY29uQ29sb3IKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIHNyYyA9IG5vZGUuaW1nIHx8IG5vZGUuYXZhdGFyOwoKICAgICAgaWYgKHNyYykgewogICAgICAgIHJldHVybiBoKCdpbWcnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInEtdHJlZV9fIi5jb25jYXQobm9kZS5pbWcgPyAnaW1nJyA6ICdhdmF0YXInLCAiIHEtbXItc20iKSwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHNyYzogc3JjCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBfX2dldE5vZGU6IGZ1bmN0aW9uIF9fZ2V0Tm9kZShoLCBub2RlKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHZhciBrZXkgPSBub2RlW3RoaXMubm9kZUtleV0sCiAgICAgICAgICBtZXRhID0gdGhpcy5tZXRhW2tleV0sCiAgICAgICAgICBoZWFkZXIgPSBub2RlLmhlYWRlciA/IHRoaXMuJHNjb3BlZFNsb3RzWyJoZWFkZXItIi5jb25jYXQobm9kZS5oZWFkZXIpXSB8fCB0aGlzLiRzY29wZWRTbG90c1snZGVmYXVsdC1oZWFkZXInXSA6IHRoaXMuJHNjb3BlZFNsb3RzWydkZWZhdWx0LWhlYWRlciddOwogICAgICB2YXIgY2hpbGRyZW4gPSBtZXRhLmlzUGFyZW50ID09PSB0cnVlID8gdGhpcy5fX2dldENoaWxkcmVuKGgsIG5vZGVbdGhpcy5jaGlsZHJlbktleV0pIDogW107CiAgICAgIHZhciBpc1BhcmVudCA9IGNoaWxkcmVuLmxlbmd0aCA+IDAgfHwgbWV0YS5sYXp5ICYmIG1ldGEubGF6eSAhPT0gJ2xvYWRlZCc7CiAgICAgIHZhciBib2R5ID0gbm9kZS5ib2R5ID8gdGhpcy4kc2NvcGVkU2xvdHNbImJvZHktIi5jb25jYXQobm9kZS5ib2R5KV0gfHwgdGhpcy4kc2NvcGVkU2xvdHNbJ2RlZmF1bHQtYm9keSddIDogdGhpcy4kc2NvcGVkU2xvdHNbJ2RlZmF1bHQtYm9keSddOwogICAgICB2YXIgc2xvdFNjb3BlID0gaGVhZGVyICE9PSB2b2lkIDAgfHwgYm9keSAhPT0gdm9pZCAwID8gdGhpcy5fX2dldFNsb3RTY29wZShub2RlLCBtZXRhLCBrZXkpIDogbnVsbDsKCiAgICAgIGlmIChib2R5ICE9PSB2b2lkIDApIHsKICAgICAgICBib2R5ID0gaCgnZGl2JywgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXRyZWVfX25vZGUtYm9keSByZWxhdGl2ZS1wb3NpdGlvbicKICAgICAgICB9LCBbaCgnZGl2JywgewogICAgICAgICAgY2xhc3M6IHRoaXMudGV4dENvbG9yQ2xhc3MKICAgICAgICB9LCBbYm9keShzbG90U2NvcGUpXSldKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICBrZXk6IGtleSwKICAgICAgICBzdGF0aWNDbGFzczogJ3EtdHJlZV9fbm9kZSByZWxhdGl2ZS1wb3NpdGlvbicsCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICdxLXRyZWVfX25vZGUtLXBhcmVudCc6IGlzUGFyZW50LAogICAgICAgICAgJ3EtdHJlZV9fbm9kZS0tY2hpbGQnOiAhaXNQYXJlbnQKICAgICAgICB9CiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXRyZWVfX25vZGUtaGVhZGVyIHJlbGF0aXZlLXBvc2l0aW9uIHJvdyBuby13cmFwIGl0ZW1zLWNlbnRlcicsCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICdxLXRyZWVfX25vZGUtLWxpbmsgcS1ob3ZlcmFibGUgcS1mb2N1c2FibGUnOiBtZXRhLmxpbmssCiAgICAgICAgICAncS10cmVlX19ub2RlLS1zZWxlY3RlZCc6IG1ldGEuc2VsZWN0ZWQsCiAgICAgICAgICAncS10cmVlX19ub2RlLS1kaXNhYmxlZCc6IG1ldGEuZGlzYWJsZWQKICAgICAgICB9LAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICB0YWJpbmRleDogbWV0YS5saW5rID8gMCA6IC0xCiAgICAgICAgfSwKICAgICAgICBvbjogewogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHsKICAgICAgICAgICAgX3RoaXMxMC5fX29uQ2xpY2sobm9kZSwgbWV0YSwgZSk7CiAgICAgICAgICB9LAogICAgICAgICAga2V5cHJlc3M6IGZ1bmN0aW9uIGtleXByZXNzKGUpIHsKICAgICAgICAgICAgaWYgKHNob3VsZElnbm9yZUtleShlKSAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgICAgICAgICBfdGhpczEwLl9fb25DbGljayhub2RlLCBtZXRhLCBlLCB0cnVlKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gMzIpIHsKICAgICAgICAgICAgICAgIF90aGlzMTAuX19vbkV4cGFuZENsaWNrKG5vZGUsIG1ldGEsIGUsIHRydWUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgW2goJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZm9jdXMtaGVscGVyJywKICAgICAgICBhdHRyczogewogICAgICAgICAgdGFiaW5kZXg6IC0xCiAgICAgICAgfSwKICAgICAgICByZWY6ICJibHVyVGFyZ2V0XyIuY29uY2F0KG1ldGEua2V5KQogICAgICB9KSwgbWV0YS5sYXp5ID09PSAnbG9hZGluZycgPyBoKFFTcGlubmVyLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLXRyZWVfX3NwaW5uZXIgcS1tci14cycsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbXB1dGVkQ29udHJvbENvbG9yCiAgICAgICAgfQogICAgICB9KSA6IGlzUGFyZW50ID09PSB0cnVlID8gaChRSWNvbiwgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS10cmVlX19hcnJvdyBxLW1yLXhzJywKICAgICAgICBjbGFzczogewogICAgICAgICAgJ3EtdHJlZV9fYXJyb3ctLXJvdGF0ZSc6IG1ldGEuZXhwYW5kZWQKICAgICAgICB9LAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiB0aGlzLmNvbXB1dGVkSWNvbgogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7CiAgICAgICAgICAgIF90aGlzMTAuX19vbkV4cGFuZENsaWNrKG5vZGUsIG1ldGEsIGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkgOiBudWxsLCBtZXRhLmhhc1RpY2tpbmcgPT09IHRydWUgJiYgbWV0YS5ub1RpY2sgIT09IHRydWUgPyBoKFFDaGVja2JveCwgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1tci14cycsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHZhbHVlOiBtZXRhLmluZGV0ZXJtaW5hdGUgPT09IHRydWUgPyBudWxsIDogbWV0YS50aWNrZWQsCiAgICAgICAgICBjb2xvcjogdGhpcy5jb21wdXRlZENvbnRyb2xDb2xvciwKICAgICAgICAgIGRhcms6IHRoaXMuaXNEYXJrLAogICAgICAgICAgZGVuc2U6IHRydWUsCiAgICAgICAgICBrZWVwQ29sb3I6IHRydWUsCiAgICAgICAgICBkaXNhYmxlOiBtZXRhLnRpY2thYmxlICE9PSB0cnVlCiAgICAgICAgfSwKICAgICAgICBvbjogewogICAgICAgICAga2V5ZG93bjogc3RvcEFuZFByZXZlbnQsCiAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gaW5wdXQodikgewogICAgICAgICAgICBfdGhpczEwLl9fb25UaWNrZWRDbGljayhtZXRhLCB2KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pIDogbnVsbCwgaCgnZGl2JywgewogICAgICAgICdzdGF0aWNDbGFzcyc6ICdxLXRyZWVfX25vZGUtaGVhZGVyLWNvbnRlbnQgY29sIHJvdyBuby13cmFwIGl0ZW1zLWNlbnRlcicsCiAgICAgICAgY2xhc3M6IG1ldGEuc2VsZWN0ZWQgPyB0aGlzLnNlbGVjdGVkQ29sb3JDbGFzcyA6IHRoaXMudGV4dENvbG9yQ2xhc3MKICAgICAgfSwgW2hlYWRlciA/IGhlYWRlcihzbG90U2NvcGUpIDogW3RoaXMuX19nZXROb2RlTWVkaWEoaCwgbm9kZSksIGgoJ2RpdicsIG5vZGVbdGhpcy5sYWJlbEtleV0pXV0pXSksIGlzUGFyZW50ID09PSB0cnVlID8gaChRU2xpZGVUcmFuc2l0aW9uLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uCiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ3NsaWRlJywgewogICAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgICAgICAgX3RoaXMxMC4kZW1pdCgnYWZ0ZXItc2hvdycpOwogICAgICAgICAgfSwKICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgICAgICAgIF90aGlzMTAuJGVtaXQoJ2FmdGVyLWhpZGUnKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS10cmVlX19ub2RlLWNvbGxhcHNpYmxlJywKICAgICAgICBjbGFzczogdGhpcy50ZXh0Q29sb3JDbGFzcywKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogJ3Nob3cnLAogICAgICAgICAgdmFsdWU6IG1ldGEuZXhwYW5kZWQKICAgICAgICB9XQogICAgICB9LCBbYm9keSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS10cmVlX19jaGlsZHJlbicsCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICdxLXRyZWVfX25vZGUtLWRpc2FibGVkJzogbWV0YS5kaXNhYmxlZAogICAgICAgIH0KICAgICAgfSwgY2hpbGRyZW4pXSldKSA6IGJvZHldKTsKICAgIH0sCiAgICBfX2JsdXI6IGZ1bmN0aW9uIF9fYmx1cihrZXkpIHsKICAgICAgdmFyIGJsdXJUYXJnZXQgPSB0aGlzLiRyZWZzWyJibHVyVGFyZ2V0XyIuY29uY2F0KGtleSldOwogICAgICBibHVyVGFyZ2V0ICE9PSB2b2lkIDAgJiYgYmx1clRhcmdldC5mb2N1cygpOwogICAgfSwKICAgIF9fb25DbGljazogZnVuY3Rpb24gX19vbkNsaWNrKG5vZGUsIG1ldGEsIGUsIGtleWJvYXJkKSB7CiAgICAgIGtleWJvYXJkICE9PSB0cnVlICYmIHRoaXMuX19ibHVyKG1ldGEua2V5KTsKCiAgICAgIGlmICh0aGlzLmhhc1NlbGVjdGlvbikgewogICAgICAgIGlmIChtZXRhLnNlbGVjdGFibGUpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWxlY3RlZCcsIG1ldGEua2V5ICE9PSB0aGlzLnNlbGVjdGVkID8gbWV0YS5rZXkgOiBudWxsKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fX29uRXhwYW5kQ2xpY2sobm9kZSwgbWV0YSwgZSwga2V5Ym9hcmQpOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIG5vZGUuaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIG5vZGUuaGFuZGxlcihub2RlKTsKICAgICAgfQogICAgfSwKICAgIF9fb25FeHBhbmRDbGljazogZnVuY3Rpb24gX19vbkV4cGFuZENsaWNrKG5vZGUsIG1ldGEsIGUsIGtleWJvYXJkKSB7CiAgICAgIGlmIChlICE9PSB2b2lkIDApIHsKICAgICAgICBzdG9wQW5kUHJldmVudChlKTsKICAgICAgfQoKICAgICAga2V5Ym9hcmQgIT09IHRydWUgJiYgdGhpcy5fX2JsdXIobWV0YS5rZXkpOwogICAgICB0aGlzLnNldEV4cGFuZGVkKG1ldGEua2V5LCAhbWV0YS5leHBhbmRlZCwgbm9kZSwgbWV0YSk7CiAgICB9LAogICAgX19vblRpY2tlZENsaWNrOiBmdW5jdGlvbiBfX29uVGlja2VkQ2xpY2sobWV0YSwgc3RhdGUpIHsKICAgICAgaWYgKG1ldGEuaW5kZXRlcm1pbmF0ZSA9PT0gdHJ1ZSkgewogICAgICAgIHN0YXRlID0gbWV0YS5pbmRldGVybWluYXRlTmV4dFN0YXRlOwogICAgICB9CgogICAgICBpZiAobWV0YS5zdHJpY3RUaWNraW5nKSB7CiAgICAgICAgdGhpcy5zZXRUaWNrZWQoW21ldGEua2V5XSwgc3RhdGUpOwogICAgICB9IGVsc2UgaWYgKG1ldGEubGVhZlRpY2tpbmcpIHsKICAgICAgICB2YXIga2V5cyA9IFtdOwoKICAgICAgICB2YXIgdHJhdmVsID0gZnVuY3Rpb24gdHJhdmVsKG1ldGEpIHsKICAgICAgICAgIGlmIChtZXRhLmlzUGFyZW50KSB7CiAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gdHJ1ZSAmJiBtZXRhLm5vVGljayAhPT0gdHJ1ZSAmJiBtZXRhLnRpY2thYmxlID09PSB0cnVlKSB7CiAgICAgICAgICAgICAga2V5cy5wdXNoKG1ldGEua2V5KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG1ldGEubGVhZlRpY2tpbmcgPT09IHRydWUpIHsKICAgICAgICAgICAgICBtZXRhLmNoaWxkcmVuLmZvckVhY2godHJhdmVsKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChtZXRhLm5vVGljayAhPT0gdHJ1ZSAmJiBtZXRhLnRpY2thYmxlID09PSB0cnVlICYmIChtZXRhLmxlYWZGaWx0ZXJlZFRpY2tpbmcgIT09IHRydWUgfHwgbWV0YS5tYXRjaGVzRmlsdGVyID09PSB0cnVlKSkgewogICAgICAgICAgICBrZXlzLnB1c2gobWV0YS5rZXkpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHRyYXZlbChtZXRhKTsKICAgICAgICB0aGlzLnNldFRpY2tlZChrZXlzLCBzdGF0ZSk7CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuX19nZXRDaGlsZHJlbihoLCB0aGlzLm5vZGVzKTsKCiAgICByZXR1cm4gaCgnZGl2JywgewogICAgICBjbGFzczogdGhpcy5jbGFzc2VzCiAgICB9LCBjaGlsZHJlbi5sZW5ndGggPT09IDAgPyB0aGlzLmZpbHRlciA/IHRoaXMubm9SZXN1bHRzTGFiZWwgfHwgdGhpcy4kcS5sYW5nLnRyZWUubm9SZXN1bHRzIDogdGhpcy5ub05vZGVzTGFiZWwgfHwgdGhpcy4kcS5sYW5nLnRyZWUubm9Ob2RlcyA6IGNoaWxkcmVuKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmRlZmF1bHRFeHBhbmRBbGwgPT09IHRydWUgJiYgdGhpcy5leHBhbmRBbGwoKTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/tree/QTree.js"],"names":["Vue","QIcon","QCheckbox","QSlideTransition","QSpinner","DarkMixin","stopAndPrevent","shouldIgnoreKey","cache","extend","name","mixins","props","nodes","type","Array","required","nodeKey","String","labelKey","default","childrenKey","color","controlColor","textColor","selectedColor","icon","tickStrategy","validator","v","includes","ticked","expanded","selected","defaultExpandAll","Boolean","accordion","filter","filterMethod","Function","node","filt","toLowerCase","indexOf","duration","Number","noConnectors","noNodesLabel","noResultsLabel","computed","classes","isDark","hasSelection","computedIcon","$q","iconSet","tree","computedControlColor","textColorClass","selectedColorClass","meta","travel","parent","key","isParent","length","isLeaf","selectable","disabled","expandable","hasTicking","strictTicking","leafFilteredTicking","leafTicking","tickable","lazy","m","link","children","matchesFilter","innerExpanded","noTick","innerTicked","map","n","some","every","indeterminate","sel","reduce","acc","indeterminateNextState","forEach","data","watch","val","methods","getNodeByKey","find","result","isArray","call","Object","getTickedNodes","getExpandedNodes","isExpanded","collapseAll","$emit","expandAll","push","setExpanded","state","$set","done","$nextTick","__setExpanded","fail","$delete","target","emit","slice","collapse","k","concat","index","self","isTicked","setTicked","keys","__getSlotScope","scope","dark","defineProperty","get","set","configurable","enumerable","__getChildren","h","child","__getNode","__getNodeMedia","staticClass","iconColor","src","img","avatar","attrs","header","$scopedSlots","body","slotScope","class","tabindex","on","click","e","__onClick","keypress","keyCode","__onExpandClick","ref","value","dense","keepColor","disable","keydown","input","__onTickedClick","show","hide","directives","__blur","blurTarget","$refs","focus","keyboard","handler","render","lang","noResults","noNodes","created"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport QIcon from '../icon/QIcon.js'\nimport QCheckbox from '../checkbox/QCheckbox.js'\nimport QSlideTransition from '../slide-transition/QSlideTransition.js'\nimport QSpinner from '../spinner/QSpinner.js'\nimport DarkMixin from '../../mixins/dark.js'\n\nimport { stopAndPrevent } from '../../utils/event.js'\nimport { shouldIgnoreKey } from '../../utils/key-composition.js'\nimport cache from '../../utils/cache.js'\n\nexport default Vue.extend({\n  name: 'QTree',\n\n  mixins: [ DarkMixin ],\n\n  props: {\n    nodes: {\n      type: Array,\n      required: true\n    },\n    nodeKey: {\n      type: String,\n      required: true\n    },\n    labelKey: {\n      type: String,\n      default: 'label'\n    },\n    childrenKey: {\n      type: String,\n      default: 'children'\n    },\n\n    color: String,\n    controlColor: String,\n    textColor: String,\n    selectedColor: String,\n\n    icon: String,\n\n    tickStrategy: {\n      type: String,\n      default: 'none',\n      validator: v => ['none', 'strict', 'leaf', 'leaf-filtered'].includes(v)\n    },\n    ticked: Array, // sync\n    expanded: Array, // sync\n    selected: {}, // sync\n\n    defaultExpandAll: Boolean,\n    accordion: Boolean,\n\n    filter: String,\n    filterMethod: {\n      type: Function,\n      default (node, filter) {\n        const filt = filter.toLowerCase()\n        return node[this.labelKey] &&\n          node[this.labelKey].toLowerCase().indexOf(filt) > -1\n      }\n    },\n\n    duration: Number,\n    noConnectors: Boolean,\n\n    noNodesLabel: String,\n    noResultsLabel: String\n  },\n\n  computed: {\n    classes () {\n      return `q-tree` +\n        (this.noConnectors === true ? ` q-tree--no-connectors` : '') +\n        (this.isDark === true ? ` q-tree--dark` : '') +\n        (this.color !== void 0 ? ` text-${this.color}` : '')\n    },\n\n    hasSelection () {\n      return this.selected !== void 0\n    },\n\n    computedIcon () {\n      return this.icon || this.$q.iconSet.tree.icon\n    },\n\n    computedControlColor () {\n      return this.controlColor || this.color\n    },\n\n    textColorClass () {\n      if (this.textColor !== void 0) {\n        return `text-${this.textColor}`\n      }\n    },\n\n    selectedColorClass () {\n      const color = this.selectedColor || this.color\n      if (color) {\n        return `text-${color}`\n      }\n    },\n\n    meta () {\n      const meta = {}\n\n      const travel = (node, parent) => {\n        const tickStrategy = node.tickStrategy || (parent ? parent.tickStrategy : this.tickStrategy)\n        const\n          key = node[this.nodeKey],\n          isParent = node[this.childrenKey] && node[this.childrenKey].length > 0,\n          isLeaf = isParent !== true,\n          selectable = node.disabled !== true && this.hasSelection === true && node.selectable !== false,\n          expandable = node.disabled !== true && node.expandable !== false,\n          hasTicking = tickStrategy !== 'none',\n          strictTicking = tickStrategy === 'strict',\n          leafFilteredTicking = tickStrategy === 'leaf-filtered',\n          leafTicking = tickStrategy === 'leaf' || tickStrategy === 'leaf-filtered'\n\n        let tickable = node.disabled !== true && node.tickable !== false\n        if (leafTicking === true && tickable === true && parent && parent.tickable !== true) {\n          tickable = false\n        }\n\n        let lazy = node.lazy\n        if (lazy && this.lazy[key]) {\n          lazy = this.lazy[key]\n        }\n\n        const m = {\n          key,\n          parent,\n          isParent,\n          isLeaf,\n          lazy,\n          disabled: node.disabled,\n          link: node.disabled !== true && (selectable === true || (expandable === true && (isParent === true || lazy === true))),\n          children: [],\n          matchesFilter: this.filter ? this.filterMethod(node, this.filter) : true,\n\n          selected: key === this.selected && selectable === true,\n          selectable,\n          expanded: isParent === true ? this.innerExpanded.includes(key) : false,\n          expandable,\n          noTick: node.noTick === true || (strictTicking !== true && lazy && lazy !== 'loaded'),\n          tickable,\n          tickStrategy,\n          hasTicking,\n          strictTicking,\n          leafFilteredTicking,\n          leafTicking,\n          ticked: strictTicking === true\n            ? this.innerTicked.includes(key)\n            : (isLeaf === true ? this.innerTicked.includes(key) : false)\n        }\n\n        meta[key] = m\n\n        if (isParent === true) {\n          m.children = node[this.childrenKey].map(n => travel(n, m))\n\n          if (this.filter) {\n            if (m.matchesFilter !== true) {\n              m.matchesFilter = m.children.some(n => n.matchesFilter)\n            }\n            else if (\n              m.noTick !== true &&\n              m.disabled !== true &&\n              m.tickable === true &&\n              leafFilteredTicking === true &&\n              m.children.every(n => n.matchesFilter !== true || n.noTick === true || n.tickable !== true) === true\n            ) {\n              m.tickable = false\n            }\n          }\n\n          if (m.matchesFilter === true) {\n            if (m.noTick !== true && strictTicking !== true && m.children.every(n => n.noTick) === true) {\n              m.noTick = true\n            }\n\n            if (leafTicking) {\n              m.ticked = false\n              m.indeterminate = m.children.some(node => node.indeterminate === true)\n              m.tickable = m.tickable === true && m.children.some(node => node.tickable)\n\n              if (m.indeterminate !== true) {\n                const sel = m.children\n                  .reduce((acc, meta) => meta.ticked === true ? acc + 1 : acc, 0)\n\n                if (sel === m.children.length) {\n                  m.ticked = true\n                }\n                else if (sel > 0) {\n                  m.indeterminate = true\n                }\n              }\n\n              if (m.indeterminate === true) {\n                m.indeterminateNextState = m.children\n                  .every(meta => meta.tickable !== true || meta.ticked !== true)\n              }\n            }\n          }\n        }\n\n        return m\n      }\n\n      this.nodes.forEach(node => travel(node, null))\n      return meta\n    }\n  },\n\n  data () {\n    return {\n      lazy: {},\n      innerTicked: this.ticked || [],\n      innerExpanded: this.expanded || []\n    }\n  },\n\n  watch: {\n    ticked (val) {\n      this.innerTicked = val\n    },\n\n    expanded (val) {\n      this.innerExpanded = val\n    }\n  },\n\n  methods: {\n    getNodeByKey (key) {\n      const reduce = [].reduce\n\n      const find = (result, node) => {\n        if (result || !node) {\n          return result\n        }\n        if (Array.isArray(node) === true) {\n          return reduce.call(Object(node), find, result)\n        }\n        if (node[this.nodeKey] === key) {\n          return node\n        }\n        if (node[this.childrenKey]) {\n          return find(null, node[this.childrenKey])\n        }\n      }\n\n      return find(null, this.nodes)\n    },\n\n    getTickedNodes () {\n      return this.innerTicked.map(key => this.getNodeByKey(key))\n    },\n\n    getExpandedNodes () {\n      return this.innerExpanded.map(key => this.getNodeByKey(key))\n    },\n\n    isExpanded (key) {\n      return key && this.meta[key]\n        ? this.meta[key].expanded\n        : false\n    },\n\n    collapseAll () {\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', [])\n      }\n      else {\n        this.innerExpanded = []\n      }\n    },\n\n    expandAll () {\n      const\n        expanded = this.innerExpanded,\n        travel = node => {\n          if (node[this.childrenKey] && node[this.childrenKey].length > 0) {\n            if (node.expandable !== false && node.disabled !== true) {\n              expanded.push(node[this.nodeKey])\n              node[this.childrenKey].forEach(travel)\n            }\n          }\n        }\n\n      this.nodes.forEach(travel)\n\n      if (this.expanded !== void 0) {\n        this.$emit('update:expanded', expanded)\n      }\n      else {\n        this.innerExpanded = expanded\n      }\n    },\n\n    setExpanded (key, state, node = this.getNodeByKey(key), meta = this.meta[key]) {\n      if (meta.lazy && meta.lazy !== 'loaded') {\n        if (meta.lazy === 'loading') {\n          return\n        }\n\n        this.$set(this.lazy, key, 'loading')\n        this.$emit('lazy-load', {\n          node,\n          key,\n          done: children => {\n            this.lazy[key] = 'loaded'\n            if (children) {\n              this.$set(node, this.childrenKey, children)\n            }\n            this.$nextTick(() => {\n              const m = this.meta[key]\n              if (m && m.isParent === true) {\n                this.__setExpanded(key, true)\n              }\n            })\n          },\n          fail: () => {\n            this.$delete(this.lazy, key)\n          }\n        })\n      }\n      else if (meta.isParent === true && meta.expandable === true) {\n        this.__setExpanded(key, state)\n      }\n    },\n\n    __setExpanded (key, state) {\n      let target = this.innerExpanded\n      const emit = this.expanded !== void 0\n\n      if (emit === true) {\n        target = target.slice()\n      }\n\n      if (state) {\n        if (this.accordion) {\n          if (this.meta[key]) {\n            const collapse = []\n            if (this.meta[key].parent) {\n              this.meta[key].parent.children.forEach(m => {\n                if (m.key !== key && m.expandable === true) {\n                  collapse.push(m.key)\n                }\n              })\n            }\n            else {\n              this.nodes.forEach(node => {\n                const k = node[this.nodeKey]\n                if (k !== key) {\n                  collapse.push(k)\n                }\n              })\n            }\n            if (collapse.length > 0) {\n              target = target.filter(k => collapse.includes(k) === false)\n            }\n          }\n        }\n\n        target = target.concat([ key ])\n          .filter((key, index, self) => self.indexOf(key) === index)\n      }\n      else {\n        target = target.filter(k => k !== key)\n      }\n\n      if (emit === true) {\n        this.$emit(`update:expanded`, target)\n      }\n      else {\n        this.innerExpanded = target\n      }\n    },\n\n    isTicked (key) {\n      return key && this.meta[key]\n        ? this.meta[key].ticked\n        : false\n    },\n\n    setTicked (keys, state) {\n      let target = this.innerTicked\n      const emit = this.ticked !== void 0\n\n      if (emit === true) {\n        target = target.slice()\n      }\n\n      if (state) {\n        target = target.concat(keys)\n          .filter((key, index, self) => self.indexOf(key) === index)\n      }\n      else {\n        target = target.filter(k => keys.includes(k) === false)\n      }\n\n      if (emit === true) {\n        this.$emit(`update:ticked`, target)\n      }\n    },\n\n    __getSlotScope (node, meta, key) {\n      const scope = { tree: this, node, key, color: this.color, dark: this.isDark }\n\n      Object.defineProperty(scope, 'expanded', {\n        get: () => { return meta.expanded },\n        set: val => { val !== meta.expanded && this.setExpanded(key, val) },\n        configurable: true,\n        enumerable: true\n      })\n      Object.defineProperty(scope, 'ticked', {\n        get: () => { return meta.ticked },\n        set: val => { val !== meta.ticked && this.setTicked([ key ], val) },\n        configurable: true,\n        enumerable: true\n      })\n\n      return scope\n    },\n\n    __getChildren (h, nodes) {\n      return (\n        this.filter\n          ? nodes.filter(n => this.meta[n[this.nodeKey]].matchesFilter)\n          : nodes\n      ).map(child => this.__getNode(h, child))\n    },\n\n    __getNodeMedia (h, node) {\n      if (node.icon !== void 0) {\n        return h(QIcon, {\n          staticClass: `q-tree__icon q-mr-sm`,\n          props: { name: node.icon, color: node.iconColor }\n        })\n      }\n      const src = node.img || node.avatar\n      if (src) {\n        return h('img', {\n          staticClass: `q-tree__${node.img ? 'img' : 'avatar'} q-mr-sm`,\n          attrs: { src }\n        })\n      }\n    },\n\n    __getNode (h, node) {\n      const\n        key = node[this.nodeKey],\n        meta = this.meta[key],\n        header = node.header\n          ? this.$scopedSlots[`header-${node.header}`] || this.$scopedSlots['default-header']\n          : this.$scopedSlots['default-header']\n\n      const children = meta.isParent === true\n        ? this.__getChildren(h, node[this.childrenKey])\n        : []\n\n      const isParent = children.length > 0 || (meta.lazy && meta.lazy !== 'loaded')\n\n      let body = node.body\n        ? this.$scopedSlots[`body-${node.body}`] || this.$scopedSlots['default-body']\n        : this.$scopedSlots['default-body']\n      const slotScope = header !== void 0 || body !== void 0\n        ? this.__getSlotScope(node, meta, key)\n        : null\n\n      if (body !== void 0) {\n        body = h('div', { staticClass: 'q-tree__node-body relative-position' }, [\n          h('div', { class: this.textColorClass }, [\n            body(slotScope)\n          ])\n        ])\n      }\n\n      return h('div', {\n        key,\n        staticClass: 'q-tree__node relative-position',\n        class: { 'q-tree__node--parent': isParent, 'q-tree__node--child': !isParent }\n      }, [\n        h('div', {\n          staticClass: 'q-tree__node-header relative-position row no-wrap items-center',\n          class: {\n            'q-tree__node--link q-hoverable q-focusable': meta.link,\n            'q-tree__node--selected': meta.selected,\n            'q-tree__node--disabled': meta.disabled\n          },\n          attrs: { tabindex: meta.link ? 0 : -1 },\n          on: {\n            click: (e) => {\n              this.__onClick(node, meta, e)\n            },\n            keypress: e => {\n              if (shouldIgnoreKey(e) !== true) {\n                if (e.keyCode === 13) { this.__onClick(node, meta, e, true) }\n                else if (e.keyCode === 32) { this.__onExpandClick(node, meta, e, true) }\n              }\n            }\n          }\n        }, [\n          h('div', { staticClass: 'q-focus-helper', attrs: { tabindex: -1 }, ref: `blurTarget_${meta.key}` }),\n\n          meta.lazy === 'loading'\n            ? h(QSpinner, {\n              staticClass: 'q-tree__spinner q-mr-xs',\n              props: { color: this.computedControlColor }\n            })\n            : (\n              isParent === true\n                ? h(QIcon, {\n                  staticClass: 'q-tree__arrow q-mr-xs',\n                  class: { 'q-tree__arrow--rotate': meta.expanded },\n                  props: { name: this.computedIcon },\n                  on: {\n                    click: e => {\n                      this.__onExpandClick(node, meta, e)\n                    }\n                  }\n                })\n                : null\n            ),\n\n          meta.hasTicking === true && meta.noTick !== true\n            ? h(QCheckbox, {\n              staticClass: 'q-mr-xs',\n              props: {\n                value: meta.indeterminate === true ? null : meta.ticked,\n                color: this.computedControlColor,\n                dark: this.isDark,\n                dense: true,\n                keepColor: true,\n                disable: meta.tickable !== true\n              },\n              on: {\n                keydown: stopAndPrevent,\n                input: v => {\n                  this.__onTickedClick(meta, v)\n                }\n              }\n            })\n            : null,\n\n          h('div', {\n            'staticClass': 'q-tree__node-header-content col row no-wrap items-center',\n            class: meta.selected ? this.selectedColorClass : this.textColorClass\n          }, [\n            header\n              ? header(slotScope)\n              : [\n                this.__getNodeMedia(h, node),\n                h('div', node[this.labelKey])\n              ]\n          ])\n        ]),\n\n        isParent === true\n          ? h(QSlideTransition, {\n            props: { duration: this.duration },\n            on: cache(this, 'slide', {\n              show: () => { this.$emit('after-show') },\n              hide: () => { this.$emit('after-hide') }\n            })\n          }, [\n            h('div', {\n              staticClass: 'q-tree__node-collapsible',\n              class: this.textColorClass,\n              directives: [{ name: 'show', value: meta.expanded }]\n            }, [\n              body,\n\n              h('div', {\n                staticClass: 'q-tree__children',\n                class: { 'q-tree__node--disabled': meta.disabled }\n              }, children)\n            ])\n          ])\n          : body\n      ])\n    },\n\n    __blur (key) {\n      const blurTarget = this.$refs[`blurTarget_${key}`]\n      blurTarget !== void 0 && blurTarget.focus()\n    },\n\n    __onClick (node, meta, e, keyboard) {\n      keyboard !== true && this.__blur(meta.key)\n\n      if (this.hasSelection) {\n        if (meta.selectable) {\n          this.$emit('update:selected', meta.key !== this.selected ? meta.key : null)\n        }\n      }\n      else {\n        this.__onExpandClick(node, meta, e, keyboard)\n      }\n\n      if (typeof node.handler === 'function') {\n        node.handler(node)\n      }\n    },\n\n    __onExpandClick (node, meta, e, keyboard) {\n      if (e !== void 0) {\n        stopAndPrevent(e)\n      }\n      keyboard !== true && this.__blur(meta.key)\n      this.setExpanded(meta.key, !meta.expanded, node, meta)\n    },\n\n    __onTickedClick (meta, state) {\n      if (meta.indeterminate === true) {\n        state = meta.indeterminateNextState\n      }\n      if (meta.strictTicking) {\n        this.setTicked([ meta.key ], state)\n      }\n      else if (meta.leafTicking) {\n        const keys = []\n        const travel = meta => {\n          if (meta.isParent) {\n            if (state !== true && meta.noTick !== true && meta.tickable === true) {\n              keys.push(meta.key)\n            }\n            if (meta.leafTicking === true) {\n              meta.children.forEach(travel)\n            }\n          }\n          else if (\n            meta.noTick !== true &&\n            meta.tickable === true &&\n            (meta.leafFilteredTicking !== true || meta.matchesFilter === true)\n          ) {\n            keys.push(meta.key)\n          }\n        }\n        travel(meta)\n        this.setTicked(keys, state)\n      }\n    }\n  },\n\n  render (h) {\n    const children = this.__getChildren(h, this.nodes)\n\n    return h(\n      'div', {\n        class: this.classes\n      },\n      children.length === 0\n        ? (\n          this.filter\n            ? this.noResultsLabel || this.$q.lang.tree.noResults\n            : this.noNodesLabel || this.$q.lang.tree.noNodes\n        )\n        : children\n    )\n  },\n\n  created () {\n    this.defaultExpandAll === true && this.expandAll()\n  }\n})\n"]}]}