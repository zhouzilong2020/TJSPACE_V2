{"remainingRequest":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js!/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js","dependencies":[{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3pob3V6aWxvbmcvRGVza3RvcC8yMDIwLTA5LTE5LTAwMDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBMaXN0ZW5lcnNNaXhpbiBmcm9tICcuLi8uLi9taXhpbnMvbGlzdGVuZXJzLmpzJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJy4uLy4uL3V0aWxzL2RlYm91bmNlLmpzJzsKaW1wb3J0IHsgaGVpZ2h0IH0gZnJvbSAnLi4vLi4vdXRpbHMvZG9tLmpzJzsKaW1wb3J0IHsgZ2V0U2Nyb2xsVGFyZ2V0LCBnZXRTY3JvbGxIZWlnaHQsIGdldFNjcm9sbFBvc2l0aW9uLCBzZXRTY3JvbGxQb3NpdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL3Njcm9sbC5qcyc7CmltcG9ydCB7IGxpc3Rlbk9wdHMgfSBmcm9tICcuLi8uLi91dGlscy9ldmVudC5qcyc7CmltcG9ydCB7IHNsb3QsIHVuaXF1ZVNsb3QgfSBmcm9tICcuLi8uLi91dGlscy9zbG90LmpzJzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1FJbmZpbml0ZVNjcm9sbCcsCiAgbWl4aW5zOiBbTGlzdGVuZXJzTWl4aW5dLAogIHByb3BzOiB7CiAgICBvZmZzZXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA1MDAKICAgIH0sCiAgICBkZWJvdW5jZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICBzY3JvbGxUYXJnZXQ6IHsKICAgICAgZGVmYXVsdDogdm9pZCAwCiAgICB9LAogICAgZGlzYWJsZTogQm9vbGVhbiwKICAgIHJldmVyc2U6IEJvb2xlYW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmRleDogMCwKICAgICAgZmV0Y2hpbmc6IGZhbHNlLAogICAgICB3b3JraW5nOiB0cnVlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUodmFsKSB7CiAgICAgIGlmICh2YWwgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnN0b3AoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlc3VtZSgpOwogICAgICB9CiAgICB9LAogICAgc2Nyb2xsVGFyZ2V0OiBmdW5jdGlvbiBzY3JvbGxUYXJnZXQoKSB7CiAgICAgIHRoaXMudXBkYXRlU2Nyb2xsVGFyZ2V0KCk7CiAgICB9LAogICAgZGVib3VuY2U6IGZ1bmN0aW9uIGRlYm91bmNlKHZhbCkgewogICAgICB0aGlzLl9fc2V0RGVib3VuY2UodmFsKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHBvbGw6IGZ1bmN0aW9uIHBvbGwoKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGUgPT09IHRydWUgfHwgdGhpcy5mZXRjaGluZyA9PT0gdHJ1ZSB8fCB0aGlzLndvcmtpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gZ2V0U2Nyb2xsSGVpZ2h0KHRoaXMuX19zY3JvbGxUYXJnZXQpLAogICAgICAgICAgc2Nyb2xsUG9zaXRpb24gPSBnZXRTY3JvbGxQb3NpdGlvbih0aGlzLl9fc2Nyb2xsVGFyZ2V0KSwKICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IGhlaWdodCh0aGlzLl9fc2Nyb2xsVGFyZ2V0KTsKCiAgICAgIGlmICh0aGlzLnJldmVyc2UgPT09IGZhbHNlKSB7CiAgICAgICAgaWYgKHNjcm9sbFBvc2l0aW9uICsgY29udGFpbmVySGVpZ2h0ICsgdGhpcy5vZmZzZXQgPj0gc2Nyb2xsSGVpZ2h0KSB7CiAgICAgICAgICB0aGlzLnRyaWdnZXIoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHNjcm9sbFBvc2l0aW9uIDwgdGhpcy5vZmZzZXQpIHsKICAgICAgICAgIHRoaXMudHJpZ2dlcigpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHRyaWdnZXI6IGZ1bmN0aW9uIHRyaWdnZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5kaXNhYmxlID09PSB0cnVlIHx8IHRoaXMuZmV0Y2hpbmcgPT09IHRydWUgfHwgdGhpcy53b3JraW5nID09PSBmYWxzZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5pbmRleCsrOwogICAgICB0aGlzLmZldGNoaW5nID0gdHJ1ZTsKICAgICAgdmFyIGhlaWdodEJlZm9yZSA9IGdldFNjcm9sbEhlaWdodCh0aGlzLl9fc2Nyb2xsVGFyZ2V0KTsKICAgICAgdGhpcy4kZW1pdCgnbG9hZCcsIHRoaXMuaW5kZXgsIGZ1bmN0aW9uIChzdG9wKSB7CiAgICAgICAgaWYgKF90aGlzLndvcmtpbmcgPT09IHRydWUpIHsKICAgICAgICAgIF90aGlzLmZldGNoaW5nID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKF90aGlzLnJldmVyc2UgPT09IHRydWUpIHsKICAgICAgICAgICAgICB2YXIgaGVpZ2h0QWZ0ZXIgPSBnZXRTY3JvbGxIZWlnaHQoX3RoaXMuX19zY3JvbGxUYXJnZXQpLAogICAgICAgICAgICAgICAgICBzY3JvbGxQb3NpdGlvbiA9IGdldFNjcm9sbFBvc2l0aW9uKF90aGlzLl9fc2Nyb2xsVGFyZ2V0KSwKICAgICAgICAgICAgICAgICAgaGVpZ2h0RGlmZmVyZW5jZSA9IGhlaWdodEFmdGVyIC0gaGVpZ2h0QmVmb3JlOwogICAgICAgICAgICAgIHNldFNjcm9sbFBvc2l0aW9uKF90aGlzLl9fc2Nyb2xsVGFyZ2V0LCBzY3JvbGxQb3NpdGlvbiArIGhlaWdodERpZmZlcmVuY2UpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoc3RvcCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIF90aGlzLnN0b3AoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy4kZWwuY2xvc2VzdCgnYm9keScpICYmIF90aGlzLnBvbGwoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuaW5kZXggPSAwOwogICAgfSwKICAgIHJlc3VtZTogZnVuY3Rpb24gcmVzdW1lKCkgewogICAgICBpZiAodGhpcy53b3JraW5nID09PSBmYWxzZSkgewogICAgICAgIHRoaXMud29ya2luZyA9IHRydWU7CgogICAgICAgIHRoaXMuX19zY3JvbGxUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5wb2xsLCBsaXN0ZW5PcHRzLnBhc3NpdmUpOwogICAgICB9CgogICAgICB0aGlzLmltbWVkaWF0ZVBvbGwoKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICBpZiAodGhpcy53b3JraW5nID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy53b3JraW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5mZXRjaGluZyA9IGZhbHNlOwoKICAgICAgICB0aGlzLl9fc2Nyb2xsVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9sbCwgbGlzdGVuT3B0cy5wYXNzaXZlKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVNjcm9sbFRhcmdldDogZnVuY3Rpb24gdXBkYXRlU2Nyb2xsVGFyZ2V0KCkgewogICAgICBpZiAodGhpcy5fX3Njcm9sbFRhcmdldCAmJiB0aGlzLndvcmtpbmcgPT09IHRydWUpIHsKICAgICAgICB0aGlzLl9fc2Nyb2xsVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9sbCwgbGlzdGVuT3B0cy5wYXNzaXZlKTsKICAgICAgfQoKICAgICAgdGhpcy5fX3Njcm9sbFRhcmdldCA9IGdldFNjcm9sbFRhcmdldCh0aGlzLiRlbCwgdGhpcy5zY3JvbGxUYXJnZXQpOwoKICAgICAgaWYgKHRoaXMud29ya2luZyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuX19zY3JvbGxUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5wb2xsLCBsaXN0ZW5PcHRzLnBhc3NpdmUpOwogICAgICB9CiAgICB9LAogICAgX19zZXREZWJvdW5jZTogZnVuY3Rpb24gX19zZXREZWJvdW5jZSh2YWwpIHsKICAgICAgdmFsID0gcGFyc2VJbnQodmFsLCAxMCk7CgogICAgICBpZiAodmFsIDw9IDApIHsKICAgICAgICB0aGlzLnBvbGwgPSB0aGlzLmltbWVkaWF0ZVBvbGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wb2xsID0gZGVib3VuY2UodGhpcy5pbW1lZGlhdGVQb2xsLCBpc05hTih2YWwpID09PSB0cnVlID8gMTAwIDogdmFsKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW1tZWRpYXRlUG9sbCA9IHRoaXMucG9sbDsKCiAgICB0aGlzLl9fc2V0RGVib3VuY2UodGhpcy5kZWJvdW5jZSk7CgogICAgdGhpcy51cGRhdGVTY3JvbGxUYXJnZXQoKTsKICAgIHRoaXMuaW1tZWRpYXRlUG9sbCgpOwoKICAgIGlmICh0aGlzLnJldmVyc2UgPT09IHRydWUpIHsKICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IGdldFNjcm9sbEhlaWdodCh0aGlzLl9fc2Nyb2xsVGFyZ2V0KSwKICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IGhlaWdodCh0aGlzLl9fc2Nyb2xsVGFyZ2V0KTsKICAgICAgc2V0U2Nyb2xsUG9zaXRpb24odGhpcy5fX3Njcm9sbFRhcmdldCwgc2Nyb2xsSGVpZ2h0IC0gY29udGFpbmVySGVpZ2h0KTsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAodGhpcy53b3JraW5nID09PSB0cnVlKSB7CiAgICAgIHRoaXMuX19zY3JvbGxUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5wb2xsLCBsaXN0ZW5PcHRzLnBhc3NpdmUpOwogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIGNoaWxkID0gdW5pcXVlU2xvdCh0aGlzLCAnZGVmYXVsdCcsIFtdKTsKCiAgICBpZiAodGhpcy5kaXNhYmxlICE9PSB0cnVlICYmIHRoaXMud29ya2luZyA9PT0gdHJ1ZSkgewogICAgICBjaGlsZFt0aGlzLnJldmVyc2UgPT09IGZhbHNlID8gJ3B1c2gnIDogJ3Vuc2hpZnQnXShoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWluZmluaXRlLXNjcm9sbF9fbG9hZGluZycsCiAgICAgICAgY2xhc3M6IHRoaXMuZmV0Y2hpbmcgPT09IHRydWUgPyAnJyA6ICdpbnZpc2libGUnCiAgICAgIH0sIHNsb3QodGhpcywgJ2xvYWRpbmcnKSkpOwogICAgfQoKICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAncS1pbmZpbml0ZS1zY3JvbGwnLAogICAgICBvbjogX29iamVjdFNwcmVhZCh7fSwgdGhpcy5xTGlzdGVuZXJzKQogICAgfSwgY2hpbGQpOwogIH0KfSk7"},{"version":3,"sources":["/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/quasar/src/components/infinite-scroll/QInfiniteScroll.js"],"names":["Vue","ListenersMixin","debounce","height","getScrollTarget","getScrollHeight","getScrollPosition","setScrollPosition","listenOpts","slot","uniqueSlot","extend","name","mixins","props","offset","type","Number","default","String","scrollTarget","disable","Boolean","reverse","data","index","fetching","working","watch","val","stop","resume","updateScrollTarget","__setDebounce","methods","poll","scrollHeight","__scrollTarget","scrollPosition","containerHeight","trigger","heightBefore","$emit","$nextTick","heightAfter","heightDifference","$el","closest","reset","addEventListener","passive","immediatePoll","removeEventListener","parseInt","isNaN","mounted","beforeDestroy","render","h","child","staticClass","class","on","qListeners"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nimport ListenersMixin from '../../mixins/listeners.js'\n\nimport debounce from '../../utils/debounce.js'\nimport { height } from '../../utils/dom.js'\nimport { getScrollTarget, getScrollHeight, getScrollPosition, setScrollPosition } from '../../utils/scroll.js'\nimport { listenOpts } from '../../utils/event.js'\nimport { slot, uniqueSlot } from '../../utils/slot.js'\n\nexport default Vue.extend({\n  name: 'QInfiniteScroll',\n\n  mixins: [ ListenersMixin ],\n\n  props: {\n    offset: {\n      type: Number,\n      default: 500\n    },\n\n    debounce: {\n      type: [ String, Number ],\n      default: 100\n    },\n\n    scrollTarget: {\n      default: void 0\n    },\n\n    disable: Boolean,\n    reverse: Boolean\n  },\n\n  data () {\n    return {\n      index: 0,\n      fetching: false,\n      working: true\n    }\n  },\n\n  watch: {\n    disable (val) {\n      if (val === true) {\n        this.stop()\n      }\n      else {\n        this.resume()\n      }\n    },\n\n    scrollTarget () {\n      this.updateScrollTarget()\n    },\n\n    debounce (val) {\n      this.__setDebounce(val)\n    }\n  },\n\n  methods: {\n    poll () {\n      if (this.disable === true || this.fetching === true || this.working === false) {\n        return\n      }\n\n      const\n        scrollHeight = getScrollHeight(this.__scrollTarget),\n        scrollPosition = getScrollPosition(this.__scrollTarget),\n        containerHeight = height(this.__scrollTarget)\n\n      if (this.reverse === false) {\n        if (scrollPosition + containerHeight + this.offset >= scrollHeight) {\n          this.trigger()\n        }\n      }\n      else {\n        if (scrollPosition < this.offset) {\n          this.trigger()\n        }\n      }\n    },\n\n    trigger () {\n      if (this.disable === true || this.fetching === true || this.working === false) {\n        return\n      }\n\n      this.index++\n      this.fetching = true\n\n      const heightBefore = getScrollHeight(this.__scrollTarget)\n\n      this.$emit('load', this.index, stop => {\n        if (this.working === true) {\n          this.fetching = false\n          this.$nextTick(() => {\n            if (this.reverse === true) {\n              const\n                heightAfter = getScrollHeight(this.__scrollTarget),\n                scrollPosition = getScrollPosition(this.__scrollTarget),\n                heightDifference = heightAfter - heightBefore\n\n              setScrollPosition(this.__scrollTarget, scrollPosition + heightDifference)\n            }\n\n            if (stop === true) {\n              this.stop()\n            }\n            else {\n              this.$el.closest('body') && this.poll()\n            }\n          })\n        }\n      })\n    },\n\n    reset () {\n      this.index = 0\n    },\n\n    resume () {\n      if (this.working === false) {\n        this.working = true\n        this.__scrollTarget.addEventListener('scroll', this.poll, listenOpts.passive)\n      }\n      this.immediatePoll()\n    },\n\n    stop () {\n      if (this.working === true) {\n        this.working = false\n        this.fetching = false\n        this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n      }\n    },\n\n    updateScrollTarget () {\n      if (this.__scrollTarget && this.working === true) {\n        this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n      }\n\n      this.__scrollTarget = getScrollTarget(this.$el, this.scrollTarget)\n\n      if (this.working === true) {\n        this.__scrollTarget.addEventListener('scroll', this.poll, listenOpts.passive)\n      }\n    },\n\n    __setDebounce (val) {\n      val = parseInt(val, 10)\n      if (val <= 0) {\n        this.poll = this.immediatePoll\n      }\n      else {\n        this.poll = debounce(this.immediatePoll, isNaN(val) === true ? 100 : val)\n      }\n    }\n  },\n\n  mounted () {\n    this.immediatePoll = this.poll\n    this.__setDebounce(this.debounce)\n\n    this.updateScrollTarget()\n    this.immediatePoll()\n\n    if (this.reverse === true) {\n      const\n        scrollHeight = getScrollHeight(this.__scrollTarget),\n        containerHeight = height(this.__scrollTarget)\n\n      setScrollPosition(this.__scrollTarget, scrollHeight - containerHeight)\n    }\n  },\n\n  beforeDestroy () {\n    if (this.working === true) {\n      this.__scrollTarget.removeEventListener('scroll', this.poll, listenOpts.passive)\n    }\n  },\n\n  render (h) {\n    const child = uniqueSlot(this, 'default', [])\n\n    if (this.disable !== true && this.working === true) {\n      child[this.reverse === false ? 'push' : 'unshift'](\n        h('div', {\n          staticClass: 'q-infinite-scroll__loading',\n          class: this.fetching === true ? '' : 'invisible'\n        }, slot(this, 'loading'))\n      )\n    }\n\n    return h('div', {\n      staticClass: 'q-infinite-scroll',\n      on: { ...this.qListeners }\n    }, child)\n  }\n})\n"]}]}