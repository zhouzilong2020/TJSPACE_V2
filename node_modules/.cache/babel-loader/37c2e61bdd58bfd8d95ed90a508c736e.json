{"remainingRequest":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js!/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhouzilong/Desktop/2020-09-19-0005/src/services/userService.js","dependencies":[{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/src/services/userService.js","mtime":1600430877000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvemhvdXppbG9uZy9EZXNrdG9wLzIwMjAtMDktMTktMDAwNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aG91emlsb25nL0Rlc2t0b3AvMjAyMC0wOS0xOS0wMDA1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8g6L+c56iL55m75b2V55So5oi377yB5ZOI5ZOICmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IFVSTCB9IGZyb20gIi4vY29uZmlnIjsKLyoqCiAqIOeZu+W9leeUqOaIt+eahEFQSeaOpeWPo++8jOWmguaenOaIkOWKn+i/lOWbnnRva2Vu5Lul5Y+KdXNlcklk77yM5bm25bCGdG9rZW7vvIx1c2VySWTkv53lrZjlnKjmtY/op4jlmajnmoRsb2NhbHN0b3JhZ2XkuK3vvJsKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgcGF5bG9hZOmcgOimgeS8oOWFpWFjY291bnR7ZW1haWzvvIxwYXNzd29yZH0sIHJlbWVtYmVyCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luVXNlcihfeCkgewogIHJldHVybiBfbG9naW5Vc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KLyoqCiAqIOazqOWGjOeUqOaIt0FQSe+8jOWmguaenOaIkOWKn+i/lOWbnnRva2Vu5Lul5Y+KdXNlcklk77yM5bm25bCGdG9rZW7vvIx1c2VySWTkv53lrZjlnKjmtY/op4jlmajnmoRsb2NhbHN0b3JhZ2XkuK3vvJsKICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgcGF5bG9hZOmcgOimgeS8oOWFpSBlbWFpbO+8jHBhc3N3b3Jk77yMbmlja25hbWXvvIzku6Xlj4rpgq7nrrHnmoTnm7jlhbPpqozor4HnoIEKICovCgpmdW5jdGlvbiBfbG9naW5Vc2VyKCkgewogIF9sb2dpblVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGF5bG9hZCkgewogICAgdmFyIHJlc3A7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbiB1c2VyU2V2aWNlOjpsb2dpbiB1c2VyIiwgcGF5bG9hZC5hY2NvdW50KTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KFVSTCwgIkxvZ2luL2xvZ2luIiksIHsKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmFjY291bnQuZW1haWwsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGF5bG9hZC5hY2NvdW50LnBhc3N3b3JkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZygnaW4gbG9naW4gc2VydmljZScsIHJlc3ApOyAvLyDnmbvlvZXmiJDlip/vvIznlKjmiLfpgInmi6norrDkvY/otKblj7cKCiAgICAgICAgICAgIGlmIChyZXNwLmRhdGEuc3RhdHVzICYmIHBheWxvYWQucmVtZW1iZXIpIHsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnVEpTUEFDRS1lbWFpbCcsIHBheWxvYWQuYWNjb3VudC5lbWFpbCk7CiAgICAgICAgICAgIH0gLy/lpoLmnpznlKjmiLfmsqHmnInpgInmi6norrDkvY/nlKjmiLfotKblj7cKCgogICAgICAgICAgICBpZiAocmVzcC5kYXRhLnN0YXR1cyAmJiAhcGF5bG9hZC5yZW1lbWJlcikgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdUSlNQQUNFLWVtYWlsJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3AuZGF0YSk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2xvZ2luVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKF94MikgewogIHJldHVybiBfcmVnaXN0ZXJVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KLyoqCiAqIOeUn+aIkOS4gOS4qumqjOivgeeggQogKi8KCmZ1bmN0aW9uIF9yZWdpc3RlclVzZXIoKSB7CiAgX3JlZ2lzdGVyVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocGF5bG9hZCkgewogICAgdmFyIHJlc3A7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb25zb2xlLmxvZygiaW4gdXNlclNldmljZTo6cmVnIiwgcGF5bG9hZCk7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIiIuY29uY2F0KFVSTCwgIlJlZ2lzdGVyL3JlZ2lzdGVyIiksIHt9LCB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBlbWFpbDogcGF5bG9hZC5lbWFpbCwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkLAogICAgICAgICAgICAgICAgbmlja25hbWU6IHBheWxvYWQubmlja25hbWUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3AuZGF0YSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfcmVnaXN0ZXJVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldENvZGUoZGlnaXQpIHsKICB2YXIgbWluID0gTWF0aC5wb3coMTAsIGRpZ2l0KTsKICB2YXIgbWF4ID0gbWluICogMTA7CiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gLSAxKSkgKyBtaW47Cn0KLyoqCiAqIOWQkeeUqOaIt+eahOmCrueuseWPkemAgemqjOivgeeggQogKiBAcGFyYW0ge09iamVjdH0gcGF5bG9hZAogKi8KCgpleHBvcnQgZnVuY3Rpb24gc2VudEF1dGhDb2RlKF94MykgewogIHJldHVybiBfc2VudEF1dGhDb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9zZW50QXV0aENvZGUoKSB7CiAgX3NlbnRBdXRoQ29kZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGF5bG9hZCkgewogICAgdmFyIGNvZGUsIHJlc3A7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb25zb2xlLmxvZygiaW4gc2VuZGluZyBBdXRoQ29kZSIsIHBheWxvYWQpOwogICAgICAgICAgICBjb2RlID0gIlRKU1BBQ0UtIiArIGdldENvZGUoMykudG9TdHJpbmcoKSArICItIiArIGdldENvZGUoMykudG9TdHJpbmcoKTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIiLmNvbmNhdChVUkwsICJSZWdpc3Rlci9lbWFpbCIpLCB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICBlbWFpbDogcGF5bG9hZC5lbWFpbCwKICAgICAgICAgICAgICAgIGNvZGU6IGNvZGUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZygnaW4gc2VydmljZXMgYWZ0ZXIgc2VuZGluZyBhdXRoQ29kZTonLCByZXNwKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICBkYXRhOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlc3AuZGF0YSksIHt9LCB7CiAgICAgICAgICAgICAgICBhdXRoQ29kZTogY29kZQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX3NlbnRBdXRoQ29kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0VXNlckluZm8oX3g0KSB7CiAgcmV0dXJuIF9nZXRVc2VySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKgogKiDojrflj5bnlKjmiLfmlLbol4/nmoTor77nqIvkv6Hmga8KICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQKICovCgpmdW5jdGlvbiBfZ2V0VXNlckluZm8oKSB7CiAgX2dldFVzZXJJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChwYXlsb2FkKSB7CiAgICB2YXIgcmVzcDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpOwogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KFVSTCwgIlNob3cvdXNlciIpLCB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogcGF5bG9hZC50b2tlbgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICB1c2VySWQ6IHBheWxvYWQudXNlcklkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHJlc3AuZGF0YS5kYXRhWzBdKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRVc2VySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0RmF2b3JpdGVDb3Vyc2UoX3g1KSB7CiAgcmV0dXJuIF9nZXRGYXZvcml0ZUNvdXJzZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9Ci8qKgogKiDkv67mlLnkuKrkurrkv6Hmga8KICogQHBhcmFtIHsqfSBwYXlsb2FkIHt0b2tlbiwgdXNlcklkLCBuaWNrbmFtZSwgZ2VuZGVyLCBwaG9uZW51bWJlciwgbWFqb3JpZCwgeWVhciwgZGVncmVlfQogKi8KCmZ1bmN0aW9uIF9nZXRGYXZvcml0ZUNvdXJzZSgpIHsKICBfZ2V0RmF2b3JpdGVDb3Vyc2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHBheWxvYWQpIHsKICAgIHZhciByZXNwOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZCk7CiAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiIi5jb25jYXQoVVJMLCAiU2hvdy9nZXRDb2xsZWN0ZWRDb3Vyc2UiKSwgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IHBheWxvYWQudG9rZW4KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgdXNlcklkOiBwYXlsb2FkLnVzZXJJZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXNwID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCByZXNwKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRGYXZvcml0ZUNvdXJzZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gbW9kaWZ5VXNlckluZm8oX3g2KSB7CiAgcmV0dXJuIF9tb2RpZnlVc2VySW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfbW9kaWZ5VXNlckluZm8oKSB7CiAgX21vZGlmeVVzZXJJbmZvID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihwYXlsb2FkKSB7CiAgICB2YXIgcmVzcDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbiBtb2RpZnlVc2VySW5mbycsIHBheWxvYWQpOwogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgdXJsOiAiIi5jb25jYXQoVVJMLCAiTW9kaWZ5L0luZm8iKSwKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBwYXlsb2FkLnRva2VuCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICB1c2VyaWQ6IHBheWxvYWQudXNlcklkLAogICAgICAgICAgICAgICAgbmlja25hbWU6IHBheWxvYWQubmlja25hbWUsCiAgICAgICAgICAgICAgICBnZW5kZXI6IHBheWxvYWQuZ2VuZGVyLAogICAgICAgICAgICAgICAgcGhvbmVudW1iZXI6IHBheWxvYWQucGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICBtYWpvcmlkOiBwYXlsb2FkLm1ham9ySWQsCiAgICAgICAgICAgICAgICB5ZWFyOiBwYXlsb2FkLnllYXIsCiAgICAgICAgICAgICAgICBkZWdyZWU6IHBheWxvYWQuZGVncmVlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgY29uc29sZS5sb2coImFmdGVyIG1vZGlmeVVzZXJJbmZvIiwgcmVzcCk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCByZXNwLmRhdGEpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTYpOwogIH0pKTsKICByZXR1cm4gX21vZGlmeVVzZXJJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["/Users/zhouzilong/Desktop/2020-09-19-0005/src/services/userService.js"],"names":["axios","URL","loginUser","payload","console","log","account","get","params","email","password","resp","data","status","remember","localStorage","setItem","removeItem","registerUser","post","nickname","getCode","digit","min","Math","pow","max","floor","random","sentAuthCode","code","toString","authCode","getUserInfo","headers","Authorization","token","userId","getFavoriteCourse","modifyUserInfo","method","url","userid","gender","phonenumber","phoneNumber","majorid","majorId","year","degree"],"mappings":"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","sourcesContent":["// 远程登录用户！哈哈\nimport axios from \"axios\";\nimport { URL } from \"./config\";\n\n/**\n * 登录用户的API接口，如果成功返回token以及userId，并将token，userId保存在浏览器的localstorage中；\n * @param {Object} payload payload需要传入account{email，password}, remember\n */\nexport async function loginUser(payload) {\n  console.log(\"in userSevice::login user\", payload.account);\n  var resp = await axios.get(`${URL}Login/login`, {\n    params: {\n      email: payload.account.email,\n      password: payload.account.password,\n    },\n  });\n  console.log('in login service', resp);\n\n  // 登录成功，用户选择记住账号\n  if (resp.data.status && payload.remember) {\n    localStorage.setItem('TJSPACE-email', payload.account.email)\n  }\n  //如果用户没有选择记住用户账号\n  if (resp.data.status && !payload.remember) {\n    localStorage.removeItem('TJSPACE-email')\n  }\n  return resp.data;\n}\n\n/**\n * 注册用户API，如果成功返回token以及userId，并将token，userId保存在浏览器的localstorage中；\n * @param {Object} payload payload需要传入 email，password，nickname，以及邮箱的相关验证码\n */\nexport async function registerUser(payload) {\n  console.log(\"in userSevice::reg\", payload);\n  var resp = await axios.post(`${URL}Register/register`, {},\n    {\n      params: {\n        email: payload.email,\n        password: payload.password,\n        nickname: payload.nickname,\n      },\n    }\n  );\n  console.log(resp);\n  return resp.data;\n}\n\n/**\n * 生成一个验证码\n */\nfunction getCode(digit) {\n  let min = Math.pow(10, digit);\n  let max = min * 10;\n  return Math.floor(Math.random() * (max - min - 1)) + min;\n}\n\n/**\n * 向用户的邮箱发送验证码\n * @param {Object} payload\n */\nexport async function sentAuthCode(payload) {\n  console.log(\"in sending AuthCode\", payload);\n  let code =\n    \"TJSPACE-\" +\n    getCode(3).toString() +\n    \"-\" +\n    getCode(3).toString()\n  var resp = await axios.get(`${URL}Register/email`, {\n    params: {\n      email: payload.email,\n      code: code,\n    },\n  });\n  console.log('in services after sending authCode:', resp);\n  return { data: { ...resp.data, authCode: code } };\n}\n\n\nexport async function getUserInfo(payload) {\n  console.log(payload);\n  var resp = await axios.get(`${URL}Show/user`, {\n    headers: {\n      Authorization: payload.token,\n    },\n    params: {\n      userId: payload.userId,\n    },\n  });\n  return resp.data.data[0];\n}\n\n/**\n * 获取用户收藏的课程信息\n * @param {Object} payload\n */\nexport async function getFavoriteCourse(payload) {\n  console.log(payload);\n  var resp = await axios.get(`${URL}Show/getCollectedCourse`, {\n    headers: {\n      Authorization: payload.token,\n    },\n    params: {\n      userId: payload.userId,\n    },\n  });\n  return resp;\n}\n\n/**\n * 修改个人信息\n * @param {*} payload {token, userId, nickname, gender, phonenumber, majorid, year, degree}\n */\nexport async function modifyUserInfo(payload) {\n  console.log('in modifyUserInfo', payload)\n  let resp = await axios({\n    method: \"post\",\n    url: `${URL}Modify/Info`,\n    headers: {\n      Authorization: payload.token,\n    },\n    data: {\n      userid: payload.userId,\n      nickname: payload.nickname,\n      gender: payload.gender,\n      phonenumber: payload.phoneNumber,\n      majorid: payload.majorId,\n      year: payload.year,\n      degree: payload.degree,\n    },\n  });\n  console.log(\"after modifyUserInfo\", resp);\n  return resp.data\n}"]}]}