{"remainingRequest":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js!/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js??ref--0-1!/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhouzilong/Desktop/2020-09-19-0005/src/components/userInfo/register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/src/components/userInfo/register.vue","mtime":1600438418000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3pob3V6aWxvbmcvRGVza3RvcC8yMDIwLTA5LTE5LTAwMDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvemhvdXppbG9uZy9EZXNrdG9wLzIwMjAtMDktMTktMDAwNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBwb3BEaWFsb2cgZnJvbSAiLi4vcG9wRGlhbG9nIjsKaW1wb3J0IHsgc2VudEF1dGhDb2RlIH0gZnJvbSAiLi4vLi4vc2VydmljZXMvdXNlclNlcnZpY2UiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgcG9wRGlhbG9nOiBwb3BEaWFsb2cKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1B3ZDogdHJ1ZSwKICAgICAgaXNSUHdkOiB0cnVlLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgbW9kZWw6IHsKICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICBuaWNrbmFtZTogbnVsbCwKICAgICAgICBhdXRoQ29kZTogbnVsbCwKICAgICAgICBwYXNzd29yZDogbnVsbAogICAgICB9LAogICAgICAvLyDorqHml7blmagKICAgICAgdGltZXI6IG51bGwsCiAgICAgIGRvd25DbnQ6IDYwLAogICAgICB2ZXJpZmllZDogZmFsc2UsCiAgICAgIGFjY2VwdDogZmFsc2UsCiAgICAgIGF1dGhDb2RlOiBudWxsLAogICAgICB3YXJuaW5nVGV4dDogbnVsbCwKICAgICAgd2FybmluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgIHNlbnRBdXRoQ29kZVRleHQ6IGZ1bmN0aW9uIHNlbnRBdXRoQ29kZVRleHQoKSB7CiAgICAgIGlmICghdGhpcy50aW1lcikgewogICAgICAgIHJldHVybiAi5Y+R6YCB6aqM6K+B56CBIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5kb3duQ250ICsgInPlkI7lho3or5UiOwogICAgICB9CiAgICB9LAogICAgaXNTZW5kaW5nQXV0aENvZGU6IGZ1bmN0aW9uIGlzU2VuZGluZ0F1dGhDb2RlKCkgewogICAgICBpZiAodGhpcy50aW1lcikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFjY291bnRFbWFpbDogZnVuY3Rpb24gYWNjb3VudEVtYWlsKCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlbC5lbWFpbCArICJAdG9uZ2ppLmVkdS5jbiI7CiAgICB9CiAgfSwgbWFwU3RhdGUoInVzZXJJbmZvIiwgWyJ0b2tlbiIsICJ1c2VySW5mbyJdKSksIHt9LCB7CiAgICBzZW50SXNEaXNhYmxlZDogZnVuY3Rpb24gc2VudElzRGlzYWJsZWQoKSB7CiAgICAgIGlmICh0aGlzLm1vZGVsLmVtYWlsICYmICF0aGlzLnRpbWVyKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICByZWdJc0Rpc2FibGVkOiBmdW5jdGlvbiByZWdJc0Rpc2FibGVkKCkgewogICAgICBpZiAodGhpcy5tb2RlbC5lbWFpbCAmJiB0aGlzLm1vZGVsLm5pY2tuYW1lICYmIHRoaXMubW9kZWwuYXV0aENvZGUgJiYgdGhpcy5tb2RlbC5wYXNzd29yZCAmJiB0aGlzLmFjY2VwdCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgcG9wV2FybmluZzogZnVuY3Rpb24gcG9wV2FybmluZyh0ZXh0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLndhcm5pbmdUZXh0ID0gdGV4dDsKICAgICAgICAgICAgICAgIF90aGlzLndhcm5pbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLndhcm5pbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0sIDIwMDApOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlQXV0aENvZGU6IGZ1bmN0aW9uIGhhbmRsZUF1dGhDb2RlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5pc1NlbmRpbmdBdXRoQ29kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIucG9wV2FybmluZygi6aqM6K+B5ZCX5bey5Y+R6YCB77yM6K+356iN5ZCO5YaN6K+V77yBIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHNlbnRBdXRoQ29kZSh7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpczIuYWNjb3VudEVtYWlsCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImluIHJlY2VpdmluZyBhdXRoQ29kZSIsIHJlc3ApOwoKICAgICAgICAgICAgICAgIGlmICghcmVzcC5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL+iuvue9ruWAkuiuoeaXtgogICAgICAgICAgICAgICAgX3RoaXMyLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmRvd25DbnQgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi50aW1lciA9IGNsZWFySW50ZXJ2YWwoX3RoaXMyLnRpbWVyKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuZG93bkNudCA9IDU7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRvd25DbnQgLT0gMTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICBfdGhpczIuYXV0aENvZGUgPSByZXNwLmRhdGEuYXV0aENvZGU7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic2V0IGF1dGhDb2RlIiwgcmVzcC5kYXRhLmF1dGhDb2RlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnBvcFdhcm5pbmcoIuacjeWKoeWZqOmUmeivr++8jOivt+eojeWQjuWGjeivle+8gSIpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlUmVnaXN0ZXI6IGZ1bmN0aW9uIGhhbmRsZVJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMubW9kZWwuYXV0aENvZGUgIT0gX3RoaXMzLmF1dGhDb2RlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMucG9wV2FybmluZygi6aqM6K+B56CB6ZSZ6K+v77yBIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImluIHNlbnQgcmVnIGZvcm0iLCBfdGhpczMubW9kZWwpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goInVzZXJJbmZvL3JlZ2lzdGVyVXNlciIsIHsKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzMy5tb2RlbC5lbWFpbCwKICAgICAgICAgICAgICAgICAgbmlja25hbWU6IF90aGlzMy5tb2RlbC5uaWNrbmFtZSwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzMy5tb2RlbC5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgLy8g5oiQ5Yqf6I635Y+WdG9rZW4g6KGo56S65oiQ5Yqf55m75b2VCiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJnZXQgdXNlciB0b2tlbiIpCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMy51c2VySW5mbyk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAiU2VsZkluZm9Nb2RpZnkiLAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBfdGhpczMudXNlckluZm8udXNlcmlkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8vIOebruWJjeWPquacieaYteensOmHjeWkjeeahOmXrumimAogICAgICAgICAgICAgICAgICBfdGhpczMucG9wV2FybmluZyhyZXNwLm1zZyk7CgogICAgICAgICAgICAgICAgICBpZiAocmVzcC5tc2cgPT0gIuaYteensOmHjeWkjSIpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMubW9kZWwubmlja25hbWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmlja25hbWUnKS5mb2N1cygpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/zhouzilong/Desktop/2020-09-19-0005/src/components/userInfo/register.vue"],"names":["popDialog","sentAuthCode","mapState","components","data","isPwd","isRPwd","password","model","email","nickname","authCode","timer","downCnt","verified","accept","warningText","warning","computed","sentAuthCodeText","isSendingAuthCode","accountEmail","sentIsDisabled","regIsDisabled","methods","popWarning","text","setTimeout","handleAuthCode","resp","console","log","status","setInterval","clearInterval","handleRegister","$store","dispatch","userInfo","$router","push","name","params","userId","userid","msg","document","getElementById","focus"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,SAAP,MAAsB,cAAtB;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,eAAe;AACbC,EAAAA,UAAU,EAAE;AACVH,IAAAA,SAAS,EAATA;AADU,GADC;AAIbI,EAAAA,IAJa,kBAIN;AACL,WAAO;AACLC,MAAAA,KAAK,EAAE,IADF;AAELC,MAAAA,MAAM,EAAE,IAFH;AAGLC,MAAAA,QAAQ,EAAE,IAHL;AAILC,MAAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAE,IADF;AAELC,QAAAA,QAAQ,EAAE,IAFL;AAGLC,QAAAA,QAAQ,EAAE,IAHL;AAILJ,QAAAA,QAAQ,EAAE;AAJL,OAJF;AAUL;AACAK,MAAAA,KAAK,EAAE,IAXF;AAYLC,MAAAA,OAAO,EAAE,EAZJ;AAcLC,MAAAA,QAAQ,EAAE,KAdL;AAeLC,MAAAA,MAAM,EAAE,KAfH;AAgBLJ,MAAAA,QAAQ,EAAE,IAhBL;AAiBLK,MAAAA,WAAW,EAAE,IAjBR;AAkBLC,MAAAA,OAAO,EAAE;AAlBJ,KAAP;AAoBD,GAzBY;AA2BbC,EAAAA,QAAQ;AACNC,IAAAA,gBADM,8BACa;AACjB,UAA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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport popDialog from \"../popDialog\";\nimport { sentAuthCode } from \"../../services/userService\";\nimport { mapState } from \"vuex\";\nexport default {\n  components: {\n    popDialog,\n  },\n  data() {\n    return {\n      isPwd: true,\n      isRPwd: true,\n      password: null,\n      model: {\n        email: null,\n        nickname: null,\n        authCode: null,\n        password: null,\n      },\n      // 计时器\n      timer: null,\n      downCnt: 60,\n\n      verified: false,\n      accept: false,\n      authCode: null,\n      warningText: null,\n      warning: false,\n    };\n  },\n\n  computed: {\n    sentAuthCodeText() {\n      if (!this.timer) {\n        return \"发送验证码\";\n      } else {\n        return this.downCnt + \"s后再试\";\n      }\n    },\n    isSendingAuthCode() {\n      if (this.timer) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    accountEmail() {\n      return this.model.email + \"@tongji.edu.cn\";\n    },\n    ...mapState(\"userInfo\", [\"token\", \"userInfo\"]),\n    sentIsDisabled() {\n      if (this.model.email && !this.timer) {\n        return false;\n      }\n      return true;\n    },\n    regIsDisabled() {\n      if (\n        this.model.email &&\n        this.model.nickname &&\n        this.model.authCode &&\n        this.model.password &&\n        this.accept\n      ) {\n        return false;\n      }\n      return true;\n    },\n  },\n\n  methods: {\n    async popWarning(text) {\n      this.warningText = text;\n      this.warning = true;\n      setTimeout(() => {\n        this.warning = false;\n      }, 2000);\n    },\n\n    async handleAuthCode() {\n      if (this.isSendingAuthCode) {\n        await this.popWarning(\"验证吗已发送，请稍后再试！\");\n      } else {\n        var resp = await sentAuthCode({\n          email: this.accountEmail,\n        });\n\n        console.log(\"in receiving authCode\", resp);\n        if (resp.data.status) {\n          //设置倒计时\n          this.timer = setInterval(() => {\n            if (this.downCnt == 0) {\n              this.timer = clearInterval(this.timer);\n              this.downCnt = 5;\n            } else {\n              this.downCnt -= 1;\n            }\n          }, 1000);\n\n          this.authCode = resp.data.authCode;\n          console.log(\"set authCode\", resp.data.authCode);\n        } else {\n          await this.popWarning(\"服务器错误，请稍后再试！\");\n        }\n      }\n    },\n\n    async handleRegister() {\n      if (this.model.authCode != this.authCode) {\n        await this.popWarning(\"验证码错误！\");\n      } else {\n        console.log(\"in sent reg form\", this.model);\n        var resp = await this.$store.dispatch(\"userInfo/registerUser\", {\n          email: this.model.email,\n          nickname: this.model.nickname,\n          password: this.model.password,\n        });\n        if (resp.status) {\n          // 成功获取token 表示成功登录\n          // console.log(\"get user token\")\n          console.log(this.userInfo);\n          this.$router.push({\n            name: \"SelfInfoModify\",\n            params: {\n              userId: this.userInfo.userid,\n            },\n          });\n        } else {\n          // 目前只有昵称重复的问题\n          this.popWarning(resp.msg);\n          if (resp.msg == \"昵称重复\") {\n            this.model.nickname = ''\n            document.getElementById('nickname').focus()\n\n          }\n        }\n      }\n    },\n  },\n};\n"]}]}