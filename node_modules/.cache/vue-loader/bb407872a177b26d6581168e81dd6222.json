{"remainingRequest":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhouzilong/Desktop/2020-09-19-0005/src/components/courseInfo/CourseDetail.vue?vue&type=style&index=0&id=271e8a72&scoped=true&lang=css&","dependencies":[{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/src/components/courseInfo/CourseDetail.vue","mtime":1600412665000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhouzilong/Desktop/2020-09-19-0005/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY291cnNlLWRldGFpbCB7CiAgbWF4LXdpZHRoOiAyMDBweDsKfQouY291cnNlLWRldGFpbCAuY291cnNlLWRldGFpbC1pbWcgewogIG1heC13aWR0aDogODBweDsKICBwYWRkaW5nOiAxMHB4OwogIG1hcmdpbjogMCBhdXRvOwp9Cg=="},{"version":3,"sources":["CourseDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CourseDetail.vue","sourceRoot":"src/components/courseInfo","sourcesContent":["<template>\n  <q-card elevated class=\"course-detail\">\n    <img :src=\"path\" class=\"course-detail-img\" />\n\n    <q-card-section horizontal>\n      <q-list>\n        <q-item>\n          <q-item-section avatar>\n            <q-icon color=\"primary\" name=\"local_library\" />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>课程名称</q-item-label>\n            <q-item-label caption>{{ courseInfo.title }}</q-item-label>\n          </q-item-section>\n        </q-item>\n\n        <q-item>\n          <q-item-section avatar>\n            <q-icon color=\"red\" name=\"people\" />\n          </q-item-section>\n\n          <q-item-section>\n            <q-item-label>授课教师</q-item-label>\n            <q-item-label caption>{{ courseInfo.teacher }}</q-item-label>\n          </q-item-section>\n        </q-item>\n\n        <q-item>\n          <q-item-section avatar>\n            <q-icon color=\"amber\" name=\"near_me\" />\n          </q-item-section>\n\n          <q-item-section>\n            <q-item-label>课程编号</q-item-label>\n            <q-item-label caption>{{ courseInfo.courseId }}</q-item-label>\n          </q-item-section>\n        </q-item>\n\n        <q-item>\n          <q-item-section avatar>\n            <q-icon color=\"green\" name=\"today\" />\n          </q-item-section>\n\n          <q-item-section>\n            <q-item-label>开课时间</q-item-label>\n            <q-item-label caption>{{ openTime }}</q-item-label>\n          </q-item-section>\n        </q-item>\n\n        <q-item>\n          <q-item-section avatar>\n            <q-icon color=\"grey\" name=\"place\" />\n          </q-item-section>\n          <q-item-section>\n            <q-item-label>开设学院</q-item-label>\n            <q-item-label caption>{{ courseInfo.department }}</q-item-label>\n          </q-item-section>\n        </q-item>\n      </q-list>\n    </q-card-section>\n\n    <q-card-section>\n      <course-statistic class=\"q-my-sm\" :commentStatistic=\"commentStatistic\" />\n      <q-btn\n        stretch\n        class=\"full-width btn gt-sm\"\n        color=\"primary\"\n        icon-right=\"comment\"\n        :disable=\"!canMakeComment\"\n        :to=\"{\n          name: 'MakeComment',\n          params: {\n            userId: this.userInfo.userid,\n            courseId: this.courseInfo.courseId,\n          },\n        }\"\n        label=\"撰写评论\"\n        unelevated\n      >\n        <q-tooltip content-class=\"bg-accent\">{{canMakeComment ? '现在就撰写你的评论吧！' : '你已经评价过该课程！'}}</q-tooltip>\n      </q-btn>\n\n      <q-btn\n        stretch\n        class=\"full-width btn lt-md\"\n        color=\"primary\"\n        icon-right=\"comment\"\n        :disable=\"!canMakeComment\"\n        :to=\"{\n          name: 'MakeComment',\n          params: {\n            teacherId: this.courseInfo.teacherId,\n            courseId: this.courseInfo.courseId,\n          },\n        }\"\n        unelevated\n      >\n        <q-tooltip content-class=\"bg-accent\">{{canMakeComment ? '现在就撰写你的评论吧！' : '你已经评价过该课程！'}}</q-tooltip>\n      </q-btn>\n\n    </q-card-section>\n  </q-card>\n</template>\n\n<script>\nimport CourseStatistic from \"./CourseStatistic\";\nimport { canMakeComment } from \"../../services/commentService\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"CourseDetail\",\n  components: {\n    CourseStatistic,\n  },\n  computed: {\n    ...mapState(\"userInfo\", [\"userInfo\", \"token\"]),\n    openTime() {\n      let index = this.courseInfo.section.length - 1;\n      return (\n        this.courseInfo.section[index].year +\n        ` ${this.courseInfo.section[index].semester == 0 ? \"春\" : \"秋\"}`\n      );\n    },\n  },\n  props: {\n    courseInfo: {\n      type: Object,\n      default: () => {\n        return {\n          title: \"数据库原理与应用\",\n          teacher: \"袁时金\",\n          teacherId: \"0001\",\n          courseId: \"420244\",\n          section: \"2020 春\",\n          department: \"软件学院\",\n        };\n      },\n    },\n    commentStatistic: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      path: require(\"../../assets/TJU.png\"),\n      canMakeComment: false,\n    };\n  },\n  watch: {\n    async courseInfo() {\n      console.log(this.courseInfo.teacherid);\n      var resp = await canMakeComment({\n        token: this.token,\n        userId: this.userInfo.userid,\n        teacherId: this.$route.params.teacherId,\n        courseId : this.$route.params.courseId\n      });\n      if (resp.status) {\n        this.canMakeComment = resp.canPostComment;\n        console.log(this.canMakeComment)\n      }\n    },\n  },\n  async mounted() {},\n};\n</script>\n\n<style scoped>\n.course-detail {\n  max-width: 200px;\n}\n.course-detail .course-detail-img {\n  max-width: 80px;\n  padding: 10px;\n  margin: 0 auto;\n}\n</style>\n"]}]}